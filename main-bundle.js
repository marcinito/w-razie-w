(()=>{"use strict";var t={6576:(t,s,e)=>{e.d(s,{Z:()=>f});var i=e(8081),o=e.n(i),a=e(3645),h=e.n(a),n=e(1667),r=e.n(n),p=new URL(e(7049),e.b),c=new URL(e(2390),e.b),l=new URL(e(8241),e.b),d=h()(o()),m=r()(p),u=r()(c),g=r()(l);d.push([t.id,'*{margin:0;padding:0;box-sizing:border-box}body{width:100%;height:100%;position:absolute;overflow:hidden;background-size:100%}#canvas{cursor:none;border:1px solid #000;position:absolute;width:100%;height:101%}.menuEq{width:70%;height:5%;position:absolute;bottom:5%;left:50%;transform:translateX(-50%);opacity:.9;filter:brightness(120%) contrast(1)}.menuEq .insideBp{width:80%;height:150%;background-color:brown;position:absolute;display:flex}.menuEq .insideBp .bpPlace{width:20%;height:100%;border:2px groove silver}.menuEq .insideBp .bpPlace .slotBp{border:1px solid #000;background-color:#ff8c00;width:100%;height:100%;position:relative}.menuEq .insideBp .bpPlace .numberSlot{color:#fff;font-weight:bold;width:30%;height:20%;background-color:blue;position:relative;top:-40%}.menuEq .insideBp .skills{width:25%;height:250%;background-image:conic-gradient(darkblue, skyblue, blue);position:absolute;right:-25%;top:-145%;border-top-right-radius:40%;border-top-left-radius:5%;border-bottom-left-radius:5%;border-bottom-right-radius:5%;border:2px groove silver;opacity:.8}.menuEq .insideBp .skills .choosenItem{width:78%;height:70%;background-image:linear-gradient(white, gray, yellow, green);border:3px solid #000;position:relative;top:7%;left:3%;display:grid;grid-template-columns:50% 50%;grid-template-rows:33.3% 33.3% 33.3%}.menuEq .insideBp .skills .choosenItem .choosenItemImg{width:70%;height:100%;grid-column-start:1;grid-column-end:3;grid-row-start:1;grid-row-end:3;opacity:0}.menuEq .insideBp .skills .choosenItem .quantityItem{border-radius:30%;border:1px solid #ff0;width:30%;height:30%;background-image:radial-gradient(white, red, blue);position:absolute;right:0;font-size:14px;font-weight:bold;color:blue;-webkit-text-stroke:1px green;text-align:center}.menuEq .insideBp .skills .choosenItem .showAmmo{height:100%;width:100%;grid-column-start:1;grid-column-end:2;grid-row-start:3;grid-row-end:5;position:relative;font-weight:bold;font-size:16px;display:flex;justify-content:center;align-items:center}.menuEq .insideBp .skills .choosenItem .showAmount{position:relative;height:100%;width:100%;grid-column-start:2;grid-column-end:3;grid-row-start:3;grid-row-end:5}.menuEq .insideBp .skills .choosenItem .showAmount .imageAmmo{width:100%;height:100%;z-index:10;opacity:0;position:absolute}.menuEq .insideBp .skills .choosenItem .showAmount .imageAmmo2{width:100%;height:50%;z-index:10;background-color:orange;opacity:0;position:absolute;border:3px solid red;top:50%}.menuEq .insideBp .skills .choosenItem .showAmount .imageAmmo2 .amountEndurance{position:absolute;border:2px solid #000;width:90%;height:70%;left:50%;top:50%;transform:translate(-50%, -50%);background-color:#000}.menuEq .insideBp .skills .timer{width:20%;height:20%;border-radius:60%;background-image:conic-gradient(gray, white, gray, white);position:absolute;bottom:2%;right:1%;opacity:0}.menuEq .insideBp .skills .click{width:100%;height:100%;border-radius:60%;position:absolute;display:flex;justify-content:center}.menuEq .insideBp .skills .click .clack{width:10%;height:100%;display:flex;flex-direction:column;transform-origin:50%;animation-timing-function:linear}.menuEq .insideBp .skills .click .clack .one{width:60%;height:50%;background-color:#000;background-size:contain;border-top-right-radius:40%;border-top-left-radius:40%;background-repeat:no-repeat}.menuEq .insideBp .skills .click .clack .two{width:100%;height:50%;background-color:brown;opacity:0}@keyframes watch{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.menuEq .insideBp .skills .pause{position:absolute;z-index:110;width:30%;height:20%;border:1px solid red;background-color:orange;top:-440%;border-radius:40%;font-weight:bold;font-size:7px;text-align:center;right:-111%;opacity:.6;overflow:hidden}.menuEq .insideBp .skills .pause:hover{opacity:1;border:1px groove #7cfc00;color:#fff;-webkit-text-stroke:.3px #00008b}.menuEq .insideBp .skills .lifeSpan{position:absolute;bottom:2%;width:40%;height:20%;color:#000;border:2px solid #000;background-color:bisque;display:flex}.menuEq .insideBp .skills .lifeSpan .amountLife{width:40%;font-size:12px;text-indent:5px;font-weight:bold;font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif}.menuEq .insideBp .skills .lifeSpan .amountLifeImg{width:60%;height:100%}.menuEq .insideBp .skills .lifeSpan img{width:1%;height:1%}.mainMenu{position:absolute;width:100%;height:100%;opacity:1;cursor:pointer;z-index:10;left:50%;background-image:url('+m+");transform:translate(-50%, 0%);background-size:100%}.mainMenu .logoImg{width:40%;height:20%;position:absolute;left:50%;transform:translateX(-50%);background-image:url("+u+');background-size:90%;background-repeat:no-repeat;background-attachment:fixed;filter:invert(15%) blur(0.2px) grayscale(100%)}.mainMenu .interFace{height:78%;width:50%;border:10px solid orange;background-color:#00008b;position:absolute;left:55%;top:20%;transform:translateX(-50%);border-image-slice:15 15 15 15;border-image-width:10px 10px 10px 0px;border-image-outset:10px;border-image-repeat:round round;border-image-source:url("https://mdn.github.io/css-examples/tools/border-image-generator/border-image-3.png");border-style:solid;display:flex;flex-direction:column;align-items:center}.mainMenu .interFace .announcement{min-width:80%;max-width:81%;block-size:fit-content;word-wrap:break-word;font-size:3vw;color:#fff;border:9px groove bisque;font-family:"Inconsolata",monospace;text-align:center;vertical-align:bottom;margin-bottom:5%}.mainMenu .interFace .board{width:95%;height:100%;overflow-y:scroll;background-color:#dceeff;position:relative}.mainMenu .interFace .board nav{display:flex;width:95%;background-color:red;text-align:center;font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;font-weight:bold;position:fixed;left:50%;transform:translate(-50%, 0);height:6%;z-index:3}.mainMenu .interFace .board nav .tab{border:1px solid #000;width:33.3%;font-size:10px;outline-style:outset;outline-color:#000}.mainMenu .interFace .board .logoGame{background-color:orange;width:100%;height:100%;background-image:url('+g+');background-size:100% 95%;margin-top:5%;position:absolute}.mainMenu .interFace .board .items{z-index:1;display:none;position:absolute;text-shadow:.5px .5px #000;text-align:center;font-family:"Courier New",Courier,monospace;font-size:15px;top:10%;padding-bottom:2%}.mainMenu .interFace .board .items .tableItems{position:relative;left:50%;transform:translate(-50%, 0);border:1px solid #000;border-collapse:collapse;width:90%}.mainMenu .interFace .board .items .tableItems tr td{border:1px solid #000}.mainMenu .interFace .board .items .tableItems tr td img{width:30%;height:30px}.mainMenu .interFace .board .items .tableItems .appearance{width:30%;height:30%}.mainMenu .interFace .board .items .tableItems p{text-decoration:underline;text-shadow:.5px .5px #000}.mainMenu .interFace .board .items .tableItems .axe{background-color:#b3e0f2;-webkit-text-stroke:.1px red}.mainMenu .interFace .board .items .tableItems .glock{background-color:#fff3f5;-webkit-text-stroke:.1px blue}.mainMenu .interFace .board .items .tableItems .hpPotion{background-color:#ffcd91;-webkit-text-stroke:.1px brown}.mainMenu .interFace .board .items .tableItems .helper{background-color:#eac6ea;-webkit-text-stroke:.1px #ff0}.mainMenu .interFace .board .items .tableItems .jumpFluid{background-color:#fcaca3;-webkit-text-stroke:.1px orange}.mainMenu .interFace .board .items .tableItems .meat{background-color:#f6f0b9;-webkit-text-stroke:.1px #000}.mainMenu .interFace .board .items .tableItems .machineGun{background-color:#fff3e0;-webkit-text-stroke:.1px red}.mainMenu .interFace .board .items .tableItems .dynamite{background-color:bisque;-webkit-text-stroke:.1px plum}.mainMenu .interFace .board .items .tableItems .desecribe{width:70%}.mainMenu .interFace .board .story{position:relative;top:10%;display:none;text-align:center;font-family:"Courier New",Courier,monospace;width:100%;height:100%}.mainMenu .interFace .board .instruction{display:none;width:110%;position:absolute;top:0;padding:2%;top:10%;font-family:"Courier New",Courier,monospace}.mainMenu .interFace .board .instruction img{width:40%}.mainMenu .interFace .board .instruction table,.mainMenu .interFace .board .instruction td,.mainMenu .interFace .board .instruction tr{border:1px solid #000;border-collapse:collapse}.mainMenu .interFace .board .instruction .thMovement{background-color:#6495ed;font-size:100%}.mainMenu .interFace .board .instruction .thMovement img{width:50%}.mainMenu .interFace .board .instruction .tdMovement{background-color:#6495ed;width:50%;height:50%;font-size:15px;text-align:center;padding-top:2px;color:#00008b;text-shadow:brown .2px .2px}.mainMenu .interFace .board .instruction .tdMovement .secondTable{display:flex;justify-content:center}.mainMenu .interFace .board .instruction .tdMovement .secondTable tr{height:100%;width:100%}.mainMenu .interFace .board .instruction .tdMovement .secondTable tr th{background-color:orange}.mainMenu .interFace .board .instruction .tdMovement .secondTable tr td{background-color:gold;font-weight:bold;-webkit-text-stroke:.2px #00008b;font-size:20px}.mainMenu .interFace .board .instruction .thAttack{font-family:"Trebuchet MS","Lucida Sans Unicode","Lucida Grande","Lucida Sans",Arial,sans-serif;background-color:#5f9ea0;font-size:100%}.mainMenu .interFace .board .instruction .thAttack img{width:70%}.mainMenu .interFace .board .instruction .tdAttack{background-color:#5f9ea0}.mainMenu .interFace .board .instruction .tdAttack .secondTable{color:#ccc;font-size:14px;display:flex;justify-content:center}.mainMenu .interFace .board .instruction .tdAttack .secondTable th{background-color:#2f4f4f}.mainMenu .interFace .board .instruction .tdAttack .secondTable td{background-color:#2f4f4f;color:red;font-size:20px;font-weight:bold;-webkit-text-stroke:.2px #fff}.mainMenu .interFace .board .instruction .thDrop{background-color:#6767ff}.mainMenu .interFace .board .instruction .tdDrop{background-color:#6767ff}.mainMenu .interFace .board .instruction .tdDrop .secondTable{display:flex;justify-content:center}.mainMenu .interFace .board .instruction .tdDrop .secondTable th{background-color:#cc8400}.mainMenu .interFace .board .instruction .tdDrop .secondTable td{font-size:25px;font-weight:bold;-webkit-text-stroke:.5px gold;background-color:#cc8400}.mainMenu .interFace .board .instruction .thtakeItem{background-color:teal}.mainMenu .interFace .board .instruction .tdtakeItem{background-color:teal}.mainMenu .interFace .board .instruction .thbuildWall{background-color:#d65f5f}.mainMenu .interFace .board .instruction .tdbuildWall{background-color:#d65f5f}.mainMenu .interFace .board .instruction .thuseItem{background-color:#2e8b57;padding:1%}.mainMenu .interFace .board .instruction .tduseItem{padding:2%;background-color:#2e8b57;position:relative}.mainMenu .interFace .board .instruction .tduseItem .spanFirstStep{color:orange;text-align:center;text-indent:5px;-webkit-text-stroke:.4px gold}.mainMenu .interFace .board .instruction .tduseItem .spanSecondStep{color:#f0f;-webkit-text-stroke:.4px plum}.mainMenu .interFace .board .instruction .tduseItem .spaceImg{width:100px;height:20px;background-color:#fff;position:relative;left:50%;transform:translate(-50%, 0);border:#000 double 5px}.mainMenu .interFace .board::-webkit-scrollbar{width:10px}.mainMenu .interFace .board::-webkit-scrollbar-track{background:gray}.mainMenu .interFace .board::-webkit-scrollbar-thumb{background-color:#676767;border-radius:30%}.mainMenu .interFace .board::-webkit-scrollbar-thumb:hover{background:#555}.mainMenu .panelOption{position:relative;width:20%;height:78%;opacity:.8;background-color:#000;left:20%;top:20%;transform:translateX(-50%);display:flex;flex-direction:column;align-items:center;border:5px solid #fff;animation:drive .2s forwards;border-image-slice:15 15 15 15;border-image-width:10px 10px 10px 10px;border-image-outset:10px;border-image-repeat:round round;border-image-source:url("https://mdn.github.io/css-examples/tools/border-image-generator/border-image-3.png");border-style:solid}.mainMenu .panelOption .btn{font-weight:bold;z-index:10;width:80%;height:20%;font-size:120%;font-family:"Bahianita",cursive;margin-top:2%;box-shadow:inset 2px 2px 30px 4px #00008b;background-image:linear-gradient(white, gray);border:10px double;overflow:hidden}.mainMenu .panelOption .btn:hover{font-size:100%;color:red;-webkit-text-stroke:1px #00008b}@keyframes drive{from{transform:translateX(0px)}to{transform:translateX(-50%)}}',""]);const f=d},3645:t=>{t.exports=function(t){var s=[];return s.toString=function(){return this.map((function(s){var e="",i=void 0!==s[5];return s[4]&&(e+="@supports (".concat(s[4],") {")),s[2]&&(e+="@media ".concat(s[2]," {")),i&&(e+="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {")),e+=t(s),i&&(e+="}"),s[2]&&(e+="}"),s[4]&&(e+="}"),e})).join("")},s.i=function(t,e,i,o,a){"string"==typeof t&&(t=[[null,t,void 0]]);var h={};if(i)for(var n=0;n<this.length;n++){var r=this[n][0];null!=r&&(h[r]=!0)}for(var p=0;p<t.length;p++){var c=[].concat(t[p]);i&&h[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),e&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=e):c[2]=e),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),s.push(c))}},s}},1667:t=>{t.exports=function(t,s){return s||(s={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),s.hash&&(t+=s.hash),/["'() \t\n]|(%20)/.test(t)||s.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},8081:t=>{t.exports=function(t){return t[1]}},3379:t=>{var s=[];function e(t){for(var e=-1,i=0;i<s.length;i++)if(s[i].identifier===t){e=i;break}return e}function i(t,i){for(var a={},h=[],n=0;n<t.length;n++){var r=t[n],p=i.base?r[0]+i.base:r[0],c=a[p]||0,l="".concat(p," ").concat(c);a[p]=c+1;var d=e(l),m={css:r[1],media:r[2],sourceMap:r[3],supports:r[4],layer:r[5]};if(-1!==d)s[d].references++,s[d].updater(m);else{var u=o(m,i);i.byIndex=n,s.splice(n,0,{identifier:l,updater:u,references:1})}h.push(l)}return h}function o(t,s){var e=s.domAPI(s);return e.update(t),function(s){if(s){if(s.css===t.css&&s.media===t.media&&s.sourceMap===t.sourceMap&&s.supports===t.supports&&s.layer===t.layer)return;e.update(t=s)}else e.remove()}}t.exports=function(t,o){var a=i(t=t||[],o=o||{});return function(t){t=t||[];for(var h=0;h<a.length;h++){var n=e(a[h]);s[n].references--}for(var r=i(t,o),p=0;p<a.length;p++){var c=e(a[p]);0===s[c].references&&(s[c].updater(),s.splice(c,1))}a=r}}},569:t=>{var s={};t.exports=function(t,e){var i=function(t){if(void 0===s[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}s[t]=e}return s[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}},9216:t=>{t.exports=function(t){var s=document.createElement("style");return t.setAttributes(s,t.attributes),t.insert(s,t.options),s}},3565:(t,s,e)=>{t.exports=function(t){var s=e.nc;s&&t.setAttribute("nonce",s)}},7795:t=>{t.exports=function(t){var s=t.insertStyleElement(t);return{update:function(e){!function(t,s,e){var i="";e.supports&&(i+="@supports (".concat(e.supports,") {")),e.media&&(i+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(i+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),i+=e.css,o&&(i+="}"),e.media&&(i+="}"),e.supports&&(i+="}");var a=e.sourceMap;a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),s.styleTagTransform(i,t,s.options)}(s,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(s)}}}},4589:t=>{t.exports=function(t,s){if(s.styleSheet)s.styleSheet.cssText=t;else{for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(document.createTextNode(t))}}},8241:(t,s,e)=>{t.exports=e.p+"35f0020234841003dba3.png"},7049:(t,s,e)=>{t.exports=e.p+"bdb0e0e5e12f51081ff2.png"},2390:(t,s,e)=>{t.exports=e.p+"777035805dff9470f102.png"}},s={};function e(i){var o=s[i];if(void 0!==o)return o.exports;var a=s[i]={id:i,exports:{}};return t[i](a,a.exports,e),a.exports}e.m=t,e.n=t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},e.d=(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=(t,s)=>Object.prototype.hasOwnProperty.call(t,s),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var s=e.g.document;if(!t&&s&&(s.currentScript&&(t=s.currentScript.src),!t)){var i=s.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.b=document.baseURI||self.location.href,e.nc=void 0;var i={};(()=>{e.d(i,{EN:()=>no,yZ:()=>ao,NN:()=>ho,BT:()=>eo,j5:()=>oo,B9:()=>ro,GI:()=>Ki,hM:()=>to,$E:()=>io});var t=e(3379),s=e.n(t),o=e(7795),a=e.n(o),h=e(569),n=e.n(h),r=e(3565),p=e.n(r),c=e(9216),l=e.n(c),d=e(4589),m=e.n(d),u=e(6576),g={};g.styleTagTransform=m(),g.setAttributes=p(),g.insert=n().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=l(),s()(u.Z,g),u.Z&&u.Z.locals&&u.Z.locals;const f=e.p+"4bb7750684904e8f8088.png",z=e.p+"a10fe5c0ed721048b576.png",b=new Image(100,100);b.src=z;const X=new Image(100,100);X.src=f;class k{constructor(t,s,e){this.posX=t,this.posY=s,this.size=30,this.color="red",this.name="dynamite",this.startPosX=t,this.startPosY=s,this.directionAttack=e,this.speed=2,this.fallenSpeed=.8,this.timeToExplode=50,this.imageWaitingForExplosion=X,this.imageExplosion=b,this.posXWhenExplosion=null,this.posYWhenExplosion=null,this.strenghtAttack=7}draw(t,s){"right"===this.directionAttack&&(this.posX-this.startPosX>=50?(this.posY+=this.speed,this.posX+=this.fallenSpeed):(this.posX+=this.speed,this.posY-=this.speed)),"left"===this.directionAttack&&(this.startPosX-this.posX>=50?(this.posX-=this.fallenSpeed,this.posY+=this.speed):(this.posX-=this.speed,this.posY-=this.speed)),"up"===this.directionAttack&&(this.posY-=this.speed),"down"===this.directionAttack&&(this.posY+=this.speed),this.timeToExplode-=1,this.timeToExplode>0&&t.ctx.drawImage(this.imageWaitingForExplosion,this.posX,this.posY,this.size,this.size),this.timeToExplode<0&&this.timeToExplode>-10?(this.posXWhenExplosion=this.posX,this.posYWhenExplosion=this.posY,t.ctx.drawImage(this.imageExplosion,0,90,130,100,this.posX-this.size/2,this.posY-this.size,100,100)):this.timeToExplode<-10&&this.timeToExplode>-20?(this.size=140,this.posX=this.posXWhenExplosion-20,this.posY=this.posYWhenExplosion-20,t.ctx.drawImage(this.imageExplosion,200,0,200,200,this.posXWhenExplosion-20,this.posYWhenExplosion-20,120,120)):this.timeToExplode<-20&&this.timeToExplode>-30?(this.size=160,this.posX=this.posXWhenExplosion-40,this.posY=this.posYWhenExplosion-40,t.ctx.drawImage(this.imageExplosion,400,0,200,200,this.posXWhenExplosion-40,this.posY,150,150)):this.timeToExplode<-30&&this.timeToExplode>-40?(this.size=180,this.posX=this.posXWhenExplosion-60,this.posY=this.posYWhenExplosion-60,t.ctx.drawImage(this.imageExplosion,600,0,200,200,this.posXWhenExplosion-60,this.posY,170,170)):this.timeToExplode<-40&&this.timeToExplode>-60&&(this.size=200,this.posX=this.posXWhenExplosion-80,this.posY=this.posYWhenExplosion-80,t.ctx.drawImage(this.imageExplosion,800,0,200,200,this.posXWhenExplosion-80,this.posY,200,200))}}const w=e.p+"c6f4017ea7af49241f44.png",Y=new Image(100,100);Y.src=w;class y{constructor(t,s,e){this.posX=t,this.posY=s,this.size=10,this.color="black",this.name="glock",this.strenghtAttack=29.7,this.directionAttack=e,this.image=Y,this.speed=3}draw(t){t.ctx.fillStyle=this.color,t.ctx.drawImage(this.image,this.posX,this.posY,this.size,this.size),"left"===this.directionAttack&&(this.posX-=this.speed),"right"===this.directionAttack&&(this.posX+=this.speed),"up"===this.directionAttack&&(this.posY-=this.speed),"down"===this.directionAttack&&(this.posY+=this.speed)}}const x=e.p+"5357d0771e5490a3c3f2.png",I=e.p+"b0b77cce8733bd508701.png",v=new Image(100,100),M=new Image(100,100);M.src=I,v.src=x;class C{constructor(t,s,e,i){this.size=30,this.name="axe","left"===e&&(this.posX=t-35,this.posY=s),"right"===e&&(this.posX=t+i+5,this.posY=s),"down"===e&&(this.posX=t+5,this.posY=s+i+5),"up"===e&&(this.posX=t+5,this.posY=s-i+5),this.image=v,this.strenghtAttack={wall:.05,monster:.5},this.direction=e,this.lifeCycleAttack=0}draw(t,s){this.lifeCycleAttack+=1,"left"===this.direction&&t.ctx.drawImage(v,534*s,0,534,497,this.posX,this.posY,this.size,this.size),"right"===this.direction&&t.ctx.drawImage(M,534*s,0,534,497,this.posX,this.posY,this.size,this.size),"down"===this.direction&&t.ctx.drawImage(v,534*s,0,534,497,this.posX,this.posY,this.size,this.size),"up"===this.direction&&t.ctx.drawImage(v,534*s,0,534,497,this.posX,this.posY,this.size,this.size)}}const E=e.p+"869934bc1b37bab79e77.png",W=e.p+"30de8ca0083f965b8440.png",H=e.p+"f0059335fec4ff5ed528.png",A=e.p+"db2366e5683897fcbfd3.png",B=e.p+"d46fdaca65f020c60f13.png";let T=new Image(100,100),F=new Image(100,100),S=new Image(100,100),J=new Image(100,100);T.src=W,F.src=H,S.src=A,J.src=B;class G{constructor(t,s,e,i,o){this.posX=t,this.posY=s,this.size=e,this.color=i,this.type="static",this.name="plainWall",this.direction=o,this.image=[T,F,S,J],this.hp=11,this.isHitBy=void 0,this.isVulnerable=[]}draw(t){let s=this.hp-1;s>7?t.ctx.drawImage(this.image[0],this.posX,this.posY,this.size,this.size):s>4?t.ctx.drawImage(this.image[1],this.posX,this.posY,this.size,this.size):s>2?t.ctx.drawImage(this.image[2],this.posX,this.posY,this.size,this.size):(s>0||0===s||s<1)&&t.ctx.drawImage(this.image[3],this.posX,this.posY,this.size,this.size)}}const q=e.p+"a3c98d1e8bdfdeb1cb35.png",P=e.p+"dadd0305309d3daec629.png",_=new Image(100,100).src=P,D=document.querySelector(".showAmmo"),j=(document.querySelector(".showAmount"),document.querySelector(".choosenItemImg")),R=document.querySelector(".imageAmmo"),O=document.querySelector(".imageAmmo2"),L=document.querySelector(".quantityItem"),N=[...document.querySelectorAll(".slotBp")],U=(document.querySelectorAll(".ammoQuantity"),(t,s,e)=>{if("glock"===t){"drop"===e&&0===s.glock.ammo&&(to.whatIsInHand=void 0);for(let e=0;e<N.length;e++)N[e].dataset.item===t&&0===s.glock.ammo&&(N[e].src=_,N[e].dataset.empty="true",s.glock.itemInBp=!1,N[e].style.border="none",N[e].dataset.item=void 0,j.src=P,D.textContent="",R.src=_,to.whatIsInHand=void 0,L.textContent="")}if("machineGun"===t){"drop"===e&&0===s.machineGun.ammo&&(to.whatIsInHand=void 0);for(let e=0;e<N.length;e++)N[e].dataset.item===t&&0===s.machineGun.ammo&&(N[e].src=_,N[e].dataset.empty="true",s.machineGun.itemInBp=!1,N[e].style.border="none",N[e].dataset.item=void 0,j.src=P,D.textContent="",R.src=_,to.whatIsInHand=void 0,L.textContent="")}if("dynamite"===t){"drop"===e&&(s.dynamite.amount-=1);for(let e=0;e<N.length;e++)N[e].dataset.item===t&&(D.textContent=s.dynamite.ammo,L.textContent=s.dynamite.amount,0===s.dynamite.amount&&(N[e].src=_,N[e].dataset.empty="true",s.dynamite.itemInBp=!1,N[e].style.border="none",N[e].dataset.item=void 0,j.src=P,D.textContent="",R.src=_,to.whatIsInHand=void 0,L.textContent="",console.log(N[e])))}if("solidWall"===t){"drop"===e&&(s.solidWall.amount-=1),L.textContent=s.solidWall.amount;for(let e=0;e<N.length;e++)N[e].dataset.item===t&&0===s.solidWall.amount&&(N[e].src=_,N[e].dataset.empty="true",s.solidWall.itemInBp=!1,j.src=P,N[e].style.border="none",N[e].dataset.item=void 0,D.textContent="",R.src=_,to.whatIsInHand=void 0,L.textContent="",console.log(N[e]))}if("plainWall"===t){"drop"===e&&(s.plainWall.amount-=1),L.textContent=s.plainWall.amount;for(let e=0;e<N.length;e++)N[e].dataset.item===t&&0===s.plainWall.amount&&(N[e].src=_,N[e].dataset.empty="true",s.plainWall.itemInBp=!1,j.src=P,N[e].style.border="none",N[e].dataset.item=void 0,D.textContent="",R.src=_,to.whatIsInHand=void 0,L.textContent="",console.log(N[e]))}if("magmaWall"===t){"drop"===e&&(s.magmaWall.amount-=1),L.textContent=s.magmaWall.amount;for(let e=0;e<N.length;e++)N[e].dataset.item===t&&0===s.magmaWall.amount&&(N[e].src=_,j.src=P,N[e].dataset.empty="true",s.magmaWall.itemInBp=!1,N[e].style.border="none",N[e].dataset.item=void 0,D.textContent="",R.src=_,to.whatIsInHand=void 0,L.textContent="",console.log(N[e]))}if("hpPotion"===t){"drop"===e&&(s.hpPotion.amount-=1);for(let e=0;e<N.length;e++)N[e].dataset.item===t&&0===s.hpPotion.amount&&(N[e].src=_,j.src=P,N[e].dataset.empty="true",s.hpPotion.itemInBp=!1,N[e].style.border="none",N[e].dataset.item=void 0,L.textContent="")}if("axe"===t)for(let e=0;e<N.length;e++)N[e].dataset.item===t&&0===s.axe.amount&&(N[e].src=_,console.log("pozbywa sie"),console.log(s.axe.amount),N[e].dataset.empty="true",s.axe.itemInBp=!1,N[e].style.border="none",j.src=P,D.textContent="",R.src=_,to.whatIsInHand=void 0,O.style.opacity=0,L.textContent="");if("goldenCoin"===t){"drop"===e&&(s.money.amount-=1);for(let e=0;e<N.length;e++)N[e].dataset.item===t&&0===s.money.amount&&(N[e].src=_,j.src=P,N[e].dataset.empty="true",s.money.itemInBp=!1,N[e].style.border="none",N[e].dataset.item=void 0,D.textContent="",R.src=_,to.whatIsInHand=void 0,L.textContent="",console.log(N[e]))}if("jumpFluid"===t){"drop"===e&&(s.jumpFluid.amount-=1),L.textContent=s.jumpFluid.amount;for(let e=0;e<N.length;e++)N[e].dataset.item===t&&0===s.jumpFluid.amount&&(N[e].src=_,j.src=P,N[e].dataset.empty="true",s.jumpFluid.itemInBp=!1,N[e].style.border="none",N[e].dataset.item=void 0,to.whatIsInHand=void 0,D.textContent="",L.textContent="",console.log(N[e]))}if("meat"===t){"drop"===e&&(s.meat.amount-=1),L.textContent=s.meat.amount;for(let e=0;e<N.length;e++)N[e].dataset.item===t&&0===s.meat.amount&&(N[e].src=_,j.src=P,N[e].dataset.empty="true",s.meat.itemInBp=!1,N[e].style.border="none",N[e].dataset.item=void 0,to.whatIsInHand=void 0,D.textContent="",L.textContent="",console.log(N[e]))}if("helperRuna"===t){"drop"===e&&(s.helperRuna.amount-=1),L.textContent=s.helperRuna.amount;for(let e=0;e<N.length;e++)N[e].dataset.item===t&&0===s.helperRuna.amount&&(N[e].src=_,j.src=P,N[e].dataset.empty="true",s.helperRuna.itemInBp=!1,N[e].style.border="none",N[e].dataset.item=void 0,to.whatIsInHand=void 0,D.textContent="",L.textContent="",console.log(N[e]))}if("brickWall"===t){"drop"===e&&(s.brickWall.amount-=1),L.textContent=s.brickWall.amount;for(let e=0;e<N.length;e++)N[e].dataset.item===t&&0===s.brickWall.amount&&(N[e].src=_,N[e].dataset.empty="true",s.brickWall.itemInBp=!1,j.src=P,N[e].style.border="none",N[e].dataset.item=void 0,D.textContent="",R.src=_,to.whatIsInHand=void 0,L.textContent="",console.log(N[e]))}}),V=document.querySelector(".showAmmo"),$=document.querySelector(".quantityItem"),Z=(t,s,e)=>{if("glock"===e){let e=t.glock.bp.reduce(((t,s,e,i)=>t+i[e].ammo),0);return t.glock.ammo=e,t.glock.amount=t.glock.bp.length,void("glock"===s&&(V.textContent=e,$.textContent=t.glock.amount))}if("machineGun"===e){let e=t.machineGun.bp.reduce(((t,s,e,i)=>t+i[e].ammo),0);return t.machineGun.ammo=e,t.machineGun.amount=t.machineGun.bp.length,void("machineGun"===s&&(V.textContent=e,$.textContent=t.machineGun.amount))}},Q=e.p+"b7c0fddddb6c2e0ee857.png",K=e.p+"6c2f7a3cf36087d9deb2.png",tt=e.p+"f47fb91579698bcf7a1e.png",st=document.querySelector(".showAmmo"),et=(document.querySelector(".showAmount"),document.querySelector(".imageAmmo")),it=document.querySelector(".imageAmmo2"),ot=document.querySelector(".choosenItemImg"),at=document.querySelector(".quantityItem"),ht=(t,s)=>{t.forEach((t=>{t.dataset.item===s.whatIsInHand&&(ot.style.opacity=1,ot.src=P,t.src.length>2&&(ot.src=t.src),"glock"===s.whatIsInHand&&(st.textContent=s.backpack.glock.ammo,et.style.opacity=1,it.style.opacity=0,et.src=Q,at.textContent=s.backpack.glock.amount),"machineGun"===s.whatIsInHand&&(st.textContent=s.backpack.machineGun.ammo,et.style.opacity=1,it.style.opacity=0,et.src=Q,at.textContent=s.backpack.machineGun.amount),"axe"===s.whatIsInHand&&(et.style.opacity=0,it.style.opacity=1,st.textContent=s.backpack.axe.totalEndurance,at.textContent=s.backpack.axe.amount),"dynamite"===s.whatIsInHand&&(st.textContent="",at.textContent=s.backpack.dynamite.amount,et.style.opacity=0,it.style.opacity=0),"solidWall"===s.whatIsInHand&&(st.textContent="",at.textContent=s.backpack.solidWall.amount,et.src=K,it.style.opacity=0),"magmaWall"===s.whatIsInHand&&(st.textContent="",at.textContent=s.backpack.magmaWall.amount,et.src=K,it.style.opacity=0),"plainWall"===s.whatIsInHand&&(st.textContent="",at.textContent=s.backpack.plainWall.amount,et.src=K,it.style.opacity=0),"brickWall"===s.whatIsInHand&&(st.textContent="",at.textContent=s.backpack.brickWall.amount,et.src=K,et.style.opacity=0,it.style.opacity=0),"goldenCoin"===s.whatIsInHand&&(st.textContent="",at.textContent=s.backpack.money.amount,et.src=tt,et.style.opacity=1,it.style.opacity=0),"jumpFluid"===s.whatIsInHand&&(st.textContent="",at.textContent=s.backpack.jumpFluid.amount,et.style.opacity=0,it.style.opacity=0),"hpPotion"===s.whatIsInHand&&(et.style.opacity=0,it.style.opacity=0,st.textContent="",at.textContent=s.backpack.hpPotion.amount),"meat"===s.whatIsInHand&&(et.style.opacity=0,it.style.opacity=0,st.textContent="",at.textContent=s.backpack.meat.amount),"helperRuna"===s.whatIsInHand&&(et.style.opacity=0,it.style.opacity=0,st.textContent="",at.textContent=s.backpack.helperRuna.amount))}))},nt=document.querySelector(".amountEndurance"),rt=document.querySelector(".showAmmo"),pt=document.querySelector(".quantityItem"),ct=t=>{const s=t.axe.bp.reduce(((t,s,e,i)=>t+i[e].endurance),0);t.axe.totalEndurance=s,t.axe.amount=t.axe.bp.length,console.log(t.axe.bp),"axe"===to.whatIsInHand&&(rt.textContent=s,pt.textContent=t.axe.amount),to.backpack.axe.bp.length>0&&(nt.style.width=to.backpack.axe.bp[0].endurance+"%")},lt=e.p+"94a5e683e0447ada9136.png",dt=e.p+"6be9eecce37cb79d5699.png",mt=new Image(100,100);mt.src=dt;class ut{constructor(t,s,e){this.posX=t,this.posY=s,this.size=50,this.direction=e,this.strenghtAttack=20,this.speed=3,this.id="attack"}draw(t){t.ctx.fillStyle="red",t.ctx.drawImage(mt,this.posX,this.posY,this.size,this.size),"left"===this.direction&&(this.posX-=this.speed),"right"===this.direction&&(this.posX+=this.speed),"up"===this.direction&&(this.posY-=this.speed)}}const gt=t=>t[Math.floor(Math.random()*t.length)];class ft{constructor(){this.posX=1,this.posY=1,this.size=20,this.width=this.touchWall=!1,this.color="transparent"}draw(t){t.ctx.fillStyle=this.color,t.ctx.fillRect(this.posX,this.posY,this.size,this.size),this.touchWall=!1,ho.forEach((t=>{t.forEach(((t,s,e)=>{this.posX+this.size<t.posX||this.posX>t.posX+t.size||this.posY+this.size<t.posY||this.posY>t.posY+t.size||(this.touchWall=!0)}))}))}}const zt=e.p+"30f0c3403e9ba58742d9.png",bt=new Image(100,100);bt.src=zt;class Xt{constructor(t,s,e){this.posX=t,this.posY=s,this.size=50,this.direction=e,this.strenghtAttack=20,this.speed=3,this.id="treat"}draw(t){t.ctx.fillStyle="red",t.ctx.drawImage(bt,this.posX,this.posY,this.size,this.size),"left"===this.direction&&(this.posX-=this.speed),"right"===this.direction&&(this.posX+=this.speed)}}class kt{constructor(){this.posX=0,this.posY=0,this.size=20,this.speed=10,this.color="transparent",this.trigger=!0,this.avoidFallInChasm=!1}draw(t){t.ctx.fillStyle=this.color,t.ctx.fillRect(this.posX,this.posY,this.size,this.size)}}const wt=(t,s,e,i=null)=>{let o=t.posY-s+e;if(!1===t.trigger&&(t.posY=s+e-t.size),!0===t.trigger){t.posY+=t.speed;let a=330;return a="helperPlayer"===i?150:330,(o>a||t.posY>eo.C_H)&&(t.avoidFallInChasm=!0),void(t.posY>eo.C_H&&(t.posY=s+e-t.size))}};class Yt{constructor(){this.posX=0,this.posY=0,this.size=20,this.canJump=!0,this.color="transparent",this.timer=0}draw(t){t.ctx.fillStyle=this.color,t.ctx.fillRect(this.posX,this.posY,this.size,this.size)}canMonsterJump(t){this.canJump=!0,this.timer=0,this.posX+this.size<t.posX||this.posX>t.posX+t.size||this.posY+this.size<t.posY||this.posY>t.posY+t.size||(this.canJump=!1,t.isHitBy="glock",t.hp-=1)}}let yt=0;setInterval((()=>{yt++,yt>3&&(yt=0)}),200);const xt=new Image(100,100);xt.src=lt;class It{constructor(t,s){this.posX=t,this.posY=s,this.size=60,this.color="black",this.directionArr=["left","right"],this.directionMove=gt(this.directionArr),this.directionMemory=this.directionMove,this.speed=2,this.strenghtGravity=.1,this.skyAttack=!0,this.stopJump=!1,this.detectJump=new ft,this.detectBlokJump=new Yt,this.detect=new kt,this.touchWall=!1,this.jump=!1,this.image=xt,this.attack=!1,this.arrayWithMagic=[],this.name="helperPlayer",this.hpTotal=100,this.hp=this.hpTotal,this.percentageHp=50,this.ratePercentage=50,this.counter=0,this._ID=Math.floor(324324324*Math.random()),this.blok=!1,this.hitInWallStrenght=3}draw(t){if(this.counter++,t.ctx.fillStyle="green",t.ctx.fillRect(this.posX,this.posY-25,this.percentageHp,10),t.ctx.lineWidth=1,t.ctx.strokeStyle="black",t.ctx.strokeRect(this.posX,this.posY-25,50,10),t.ctx.fillStyle=this.color,"left"===this.directionMove){if(!1===this.attack){let s=234;0===yt&&t.ctx.drawImage(this.image,0,234,145,s,this.posX,this.posY,this.size,this.size),1===yt&&t.ctx.drawImage(this.image,151,234,154,s,this.posX,this.posY,this.size,this.size),2===yt&&t.ctx.drawImage(this.image,320,234,135,s,this.posX,this.posY,this.size,this.size),3===yt&&t.ctx.drawImage(this.image,500,234,146,s,this.posX,this.posY,this.size,this.size)}if(!0===this.attack){let s=222,e=709;this.speed=0,0===yt&&t.ctx.drawImage(this.image,0,e,121,s,this.posX,this.posY,this.size,this.size),1===yt&&t.ctx.drawImage(this.image,149,e,129,s,this.posX,this.posY,this.size,this.size),2===yt&&t.ctx.drawImage(this.image,328,e,124,s,this.posX,this.posY,this.size,this.size),3===yt&&t.ctx.drawImage(this.image,497,e,127,s,this.posX,this.posY,this.size,this.size),setTimeout((()=>{this.speed=1,this.attack=!1}),1e3)}}if("right"===this.directionMove){if(!1===this.attack){let s=224,e=0;0===yt&&t.ctx.drawImage(this.image,0,e,146,s,this.posX,this.posY,this.size,this.size),1===yt&&t.ctx.drawImage(this.image,165,e,146,s,this.posX,this.posY,this.size,this.size),2===yt&&t.ctx.drawImage(this.image,329,e,148,s,this.posX,this.posY,this.size,this.size),3===yt&&t.ctx.drawImage(this.image,500,e,148,s,this.posX,this.posY,this.size,this.size)}if(!0===this.attack){let s=222,e=470;this.speed=0,0===yt&&t.ctx.drawImage(this.image,0,e,121,s,this.posX,this.posY,this.size,this.size),1===yt&&t.ctx.drawImage(this.image,149,e,129,s,this.posX,this.posY,this.size,this.size),2===yt&&t.ctx.drawImage(this.image,328,e,124,s,this.posX,this.posY,this.size,this.size),3===yt&&t.ctx.drawImage(this.image,497,e,127,s,this.posX,this.posY,this.size,this.size),setTimeout((()=>{this.speed=3,this.attack=!1}),1e3)}}"left"===this.directionMove&&(this.detectJump.posX=this.posX-this.detectJump.size,this.detectJump.posY=this.posY-30),"right"===this.directionMove&&(this.detectJump.posX=this.posX+this.size,this.detectJump.posY=this.posY-30),this.detectJump.draw(t),this.arrayWithMagic.length>0&&this.arrayWithMagic.forEach((s=>{s.draw(t)})),this.detectBlokJump.posX=this.posX+10,this.detectBlokJump.posY=this.posY,this.detectBlokJump.size=this.size-20,this.detectBlokJump.draw(t),"left"===this.directionMove&&(this.detect.posX=this.posX-50),"right"===this.directionMove&&(this.detect.posX=this.posX+this.size-this.detect.size+50),wt(this.detect,this.posY,this.size,this.name),this.detect.draw(t)}jumpAction(){!1===this.stopJump&&(this.posY-=3,setTimeout((()=>{!1===this.stopJump&&(this.posY-=3,setTimeout((()=>{!1===this.stopJump&&(this.posY-=3)}),20),setTimeout((()=>{!1===this.stopJump&&(this.posY-=3)}),20),setTimeout((()=>{!1===this.stopJump&&(this.posY-=3)}),20),setTimeout((()=>{!1===this.stopJump&&(this.posY-=3)}),20))}),20),this.jump=!1)}movement(){1==this.jump&&!1===this.stopJump&&(this.posY-=50,this.jump=!1),"right"===this.directionMove&&(this.posX+=this.speed,!0===this.detect.trigger&&!1===this.blok&&!0===this.detect.avoidFallInChasm&&(setTimeout((()=>{this.detect.avoidFallInChasm=!1}),1e3),this.directionMove="left",this.blok=!0,setTimeout((()=>{this.blok=!1}),1e3))),"left"===this.directionMove&&(this.posX-=this.speed,!0===this.detect.trigger&&!1===this.blok&&!0===this.detect.avoidFallInChasm&&(this.directionMove="right",setTimeout((()=>{this.detect.avoidFallInChasm=!1}),1e3),this.blok=!0,setTimeout((()=>{this.blok=!1}),1e3)))}magicUse(){return 19===Math.floor(50*Math.random())&&!1===this.attack?(this.attack=!0,void this.arrayWithMagic.push(new ut(this.posX,this.posY,this.directionMove))):1===Math.floor(50*Math.random())&&!1===this.attack?(this.attack=!0,void this.arrayWithMagic.push(new Xt(this.posX,this.posY,this.directionMove))):2===Math.floor(50*Math.random())&&!1===this.attack&&!0===this.skyAttack?(this.attack=!0,void this.arrayWithMagic.push(new ut(this.posX,this.posY,"up"))):void 0}}const vt=(t,s)=>t*s.ratePercentage/s.hpTotal,Mt=e.p+"82a9fe302486e4e05d85.png",Ct=new Image(100,100);Ct.src=E,document.querySelector(".lifeSpan");const Et=new Image(100,100);Et.src=q;const Wt=e.p+"93800ae0deddd0de70ca.png",Ht=new Image(100,100);Ht.src=Wt;class At{constructor(t,s,e,i,o=25){this.posX=t,this.posY=s,this.name="glock",this.size=40,this.image=Ht,this.layOnMap=!0,this.ammo=o,this.isDrop=e,this.direction=i,this.speedX=1,this.strenghtGravity=1}draw(t){t.ctx.drawImage(this.image,this.posX,this.posY,this.size,this.size),!0===this.isDrop&&("left"===this.direction&&(this.posX-=this.speedX),"right"===this.direction&&(this.posX+=this.speedX))}}const Bt=e.p+"7f8e147e15fa07613d2c.png",Tt=e.p+"7e16ce76f5634b6fd500.png",Ft=e.p+"dd9c05f84043aa58be78.png",St=e.p+"6623eb25d40114f68da3.png";let Jt=new Image(100,100),Gt=new Image(100,100),qt=new Image(100,100),Pt=new Image(100,100);Jt.src=Bt,Gt.src=Tt,qt.src=Ft,Pt.src=St;class _t{constructor(t,s,e,i,o){this.posX=t,this.posY=s,this.size=e,this.color=i,this.type="static",this.name="brickWall",this.direction=o,this.image=[Jt,Gt,qt,Pt],this.hp=16,this.isHitBy="null",this.isVulnerable=[]}draw(t){let s=this.hp-1;s>12?t.ctx.drawImage(this.image[0],this.posX,this.posY,this.size,this.size):s>7?t.ctx.drawImage(this.image[1],this.posX,this.posY,this.size,this.size):s>4?t.ctx.drawImage(this.image[2],this.posX,this.posY,this.size,this.size):(s>0||s<1)&&t.ctx.drawImage(this.image[3],this.posX,this.posY,this.size,this.size)}}const Dt=e.p+"9559b458ef89a9b3d74c.png",jt=e.p+"873e72cc5efd0e09a807.png",Rt=e.p+"dcd74632cb720e2e0c92.png",Ot=e.p+"2f093e428d7153a8bfe7.png";let Lt=new Image(100,100),Nt=new Image(100,100),Ut=new Image(100,100),Vt=new Image(100,100);Lt.src=Dt,Nt.src=jt,Ut.src=Rt,Vt.src=Ot;class $t{constructor(t,s,e,i,o){this.posX=t,this.posY=s,this.size=e,this.color=i,this.type="static",this.name="magmaWall",this.direction=o,this.image=[Lt,Nt,Ut,Vt],this.hp=16,this.isHitBy="null",this.isVulnerable=[]}draw(t){let s=this.hp-1;s>12?t.ctx.drawImage(this.image[0],this.posX,this.posY,this.size,this.size):s>7?t.ctx.drawImage(this.image[1],this.posX,this.posY,this.size,this.size):s>4?t.ctx.drawImage(this.image[2],this.posX,this.posY,this.size,this.size):(s>0||s<1)&&t.ctx.drawImage(this.image[3],this.posX,this.posY,this.size,this.size)}}const Zt=e.p+"ed5ec123eea2a115b2d2.png",Qt=e.p+"852ab88b547ed274623e.png",Kt=e.p+"b2a64beac9d3d158ee9c.png",ts=e.p+"54fa1576498bfba29f74.png";let ss=new Image(100,100),es=new Image(100,100),is=new Image(100,100),os=new Image(100,100);ss.src=Zt,es.src=Qt,is.src=Kt,os.src=ts;class as{constructor(t,s,e,i,o){this.posX=t,this.posY=s,this.size=e,this.color="transparent",this.isHit="null",this.name="solidWall",this.direction=o,this.image=[ss,es,is,os],this.hp=26,this.isHitBy="null",this.isVulnerable=[]}draw(t){let s=this.hp-1;s>19?t.ctx.drawImage(this.image[0],this.posX,this.posY,this.size,this.size):s>11?t.ctx.drawImage(this.image[1],this.posX,this.posY,this.size,this.size):s>5?t.ctx.drawImage(this.image[2],this.posX,this.posY,this.size,this.size):(s>0||0===s||s<1)&&t.ctx.drawImage(this.image[3],this.posX,this.posY,this.size,this.size)}}const hs=e.p+"79d5b630d9dff9fd7e43.png",ns=new Image(100,100);ns.src=hs;class rs{constructor(t,s,e,i){this.posX=t,this.posY=s,this.size=30,this.image=ns,this.layOnMap=!0,this.name="axe",this.isDrop=e,this.speedX=1,this.strenghtGravity=1,this.direction=i,this.endurance=100}draw(t){t.ctx.drawImage(this.image,this.posX,this.posY,this.size,this.size),!0===this.isDrop&&("left"===this.direction&&(this.posX-=this.speedX),"right"===this.direction&&(this.posX+=this.speedX))}}const ps=new Image(100,100);ps.src=Bt;class cs{constructor(t,s,e,i,o){this.size=15,this.posX=t+e/2-this.size/2,this.posY=s+e/2-this.size/2,this.name="brickWall",this.image=ps,this.layOnMap=!0,this.animation=0,this.isDrop=i,this.direction=o,this.speedX=1,this.strenghtGravity=1}draw(t){this.animation+=1,t.ctx.drawImage(this.image,this.posX,this.posY,this.size,this.size),this.animation%200==0&&(t.ctx.lineWidth=10,t.ctx.strokeStyle="darkblue",t.ctx.strokeRect(this.posX-1,this.posY-1,this.size+2,this.size+2)),!0===this.isDrop&&("left"===this.direction&&(this.posX-=this.speedX),"right"===this.direction&&(this.posX+=this.speedX))}}const ls=new Image(100,100);ls.src=f;class ds{constructor(t,s,e,i){this.posX=t,this.startPosX=t,this.startPosY=s,this.posY=s,this.name="dynamite",this.size=30,this.image=ls,this.layOnMap=!0,this.isDrop=e,this.direction=i,this.speedX=1,this.strenghtGravity=1}draw(t){t.ctx.drawImage(this.image,this.posX,this.posY,this.size,this.size),!0===this.isDrop&&("left"===this.direction&&(this.posX-=this.speedX),"right"===this.direction&&(this.posX+=this.speedX))}}const ms=e.p+"50fe550ae9c3b52d5920.png",us=new Image(100,100);us.src=ms;let gs=0;setInterval((()=>{4==gs&&(gs=0),gs++}),300);class fs{constructor(t,s,e,i,o){this.posX=t+10,this.posY=s+10,this.size=e-20,this.image=us,this.layOnMap=!0,this.name="goldenCoin",this.isDrop=i,this.direction=o,this.speedX=1,this.strenghtGravity=1}draw(t){1===gs&&t.ctx.drawImage(this.image,0,0,167,158,this.posX,this.posY,this.size,this.size),2===gs&&t.ctx.drawImage(this.image,167,0,148,158,this.posX,this.posY,this.size,this.size),3===gs&&t.ctx.drawImage(this.image,318,0,107,158,this.posX,this.posY,this.size,this.size),4===gs&&t.ctx.drawImage(this.image,425,0,75,158,this.posX,this.posY,this.size,this.size),!0===this.isDrop&&("left"===this.direction&&(this.posX-=this.speedX),"right"===this.direction&&(this.posX+=this.speedX))}}const zs=e.p+"cd31b902a3f3777c1f7e.png",bs=new Image(100,100);bs.src=zs;class Xs{constructor(t,s,e,i){this.posX=t,this.posY=s,this.size=40,this.name="hpPotion",this.layOnMap=!0,this.image=bs,this.isDrop=e,this.direction=i,this.speedX=1,this.strenghtGravity=1}draw(t){t.ctx.drawImage(this.image,this.posX,this.posY,this.size,this.size),!0===this.isDrop&&("left"===this.direction&&(this.posX-=this.speedX),"right"===this.direction&&(this.posX+=this.speedX))}}const ks=e.p+"c910a3d3654975fbbc51.png",ws=new Image(100,100);ws.src=ks;class Ys{constructor(t,s,e,i,o=20){this.posX=t,this.posY=s,this.name="helperRuna",this.size=50,this.image=ws,this.layOnMap=!0,this.ammo=o,this.isDrop=e,this.direction=i,this.speedX=1,this.strenghtGravity=1}draw(t){t.ctx.drawImage(this.image,this.posX,this.posY,this.size,this.size),!0===this.isDrop&&("left"===this.direction&&(this.posX-=this.speedX),"right"===this.direction&&(this.posX+=this.speedX))}}const ys=e.p+"a683ea3366f92fc772b6.png",xs=new Image(100,100);xs.src=ys;class Is{constructor(t,s,e,i){this.posX=t,this.posY=s,this.size=40,this.name="jumpFluid",this.layOnMap=!0,this.image=xs,this.isDrop=e,this.direction=i,this.speedX=1,this.strenghtGravity=1}draw(t){t.ctx.drawImage(this.image,this.posX,this.posY,this.size,this.size),!0===this.isDrop&&("left"===this.direction&&(this.posX-=this.speedX),"right"===this.direction&&(this.posX+=this.speedX))}}const vs=new Image(100,100);vs.src=Dt;class Ms{constructor(t,s,e,i,o){this.size=15,this.posX=t+e/2-this.size/2,this.posY=s+e/2-this.size/2,this.name="magmaWall",this.image=vs,this.layOnMap=!0,this.animation=0,this.isDrop=i,this.direction=o,this.speedX=1,this.strenghtGravity=1}draw(t){this.animation+=1,t.ctx.drawImage(this.image,this.posX,this.posY,this.size,this.size),this.animation%200==0&&(t.ctx.lineWidth=10,t.ctx.strokeStyle="darkblue",t.ctx.strokeRect(this.posX-1,this.posY-1,this.size+2,this.size+2)),!0===this.isDrop&&("left"===this.direction&&(this.posX-=this.speedX),"right"===this.direction&&(this.posX+=this.speedX))}}const Cs=e.p+"0dff5cd682e9798a1967.png",Es=new Image(100,100);Es.src=Cs;class Ws{constructor(t,s,e,i){this.posX=t,this.posY=s,this.size=30,this.image=Es,this.layOnMap=!0,this.name="meat",this.isDrop=e,this.speedX=1,this.strenghtGravity=1,this.direction=i}draw(t){t.ctx.drawImage(this.image,this.posX,this.posY,this.size,this.size),!0===this.isDrop&&("left"===this.direction&&(this.posX-=this.speedX),"right"===this.direction&&(this.posX+=this.speedX))}}const Hs=new Image(100,100);Hs.src=W;class As{constructor(t,s,e,i,o){this.size=15,this.posX=t+e/2-this.size/2,this.posY=s+e/2-this.size/2,this.name="plainWall",this.image=Hs,this.layOnMap=!0,this.animation=0,this.isDrop=i,this.direction=o,this.speedX=1,this.strenghtGravity=1}draw(t){this.animation+=1,t.ctx.drawImage(this.image,this.posX,this.posY,this.size,this.size),this.animation%200==0&&(t.ctx.lineWidth=10,t.ctx.strokeStyle="darkblue",t.ctx.strokeRect(this.posX-1,this.posY-1,this.size+2,this.size+2)),!0===this.isDrop&&("left"===this.direction&&(this.posX-=this.speedX),"right"===this.direction&&(this.posX+=this.speedX))}}const Bs=new Image(100,100);Bs.src=Zt;class Ts{constructor(t,s,e,i,o){this.size=15,this.posX=t+e/2-this.size/2,this.posY=s+e/2-this.size/2,this.name="solidWall",this.image=Bs,this.layOnMap=!0,this.animation=0,this.isDrop=i,this.direction=o,this.speedX=1,this.strenghtGravity=1}draw(t){this.animation+=1,t.ctx.drawImage(this.image,this.posX,this.posY,this.size,this.size),this.animation%200==0&&(t.ctx.lineWidth=10,t.ctx.strokeStyle="darkblue",t.ctx.strokeRect(this.posX-1,this.posY-1,this.size+2,this.size+2)),!0===this.isDrop&&("left"===this.direction&&(this.posX-=this.speedX),"right"===this.direction&&(this.posX+=this.speedX))}}const Fs=(t,s,e,i)=>{"glock"===t&&(console.log("wykonuje sie"),"left"===s&&(e.glock.bp[0].posX=i.posX-35,e.glock.bp[0].posY=i.posY-50,e.glock.bp[0].layOnMap=!0,e.glock.bp[0].direction=i.directionMove,e.glock.bp[0].isDrop=!0,e.glock.bp[0].speedX=1,ro.push(e.glock.bp[0]),e.glock.bp.splice(0,1),Z(e,i.whatIsInHand,"glock"),console.log(e.glock.ammo,"ammo"),console.log(e.glock.bp[0])),"right"===s&&(e.glock.bp[0].posX=i.posX+i.size+5,e.glock.bp[0].posY=i.posY-50,e.glock.bp[0].layOnMap=!0,e.glock.bp[0].direction=i.directionMove,e.glock.bp[0].isDrop=!0,e.glock.bp[0].speedX=1,ro.push(e.glock.bp[0]),e.glock.bp.splice(0,1),Z(e,i.whatIsInHand,"glock"))),"machineGun"===t&&("left"===s&&(e.machineGun.bp[0].posX=i.posX-35,e.machineGun.bp[0].posY=i.posY-80,e.machineGun.bp[0].layOnMap=!0,e.machineGun.bp[0].direction=i.directionMove,e.machineGun.bp[0].isDrop=!0,e.machineGun.bp[0].speedX=1,ro.push(e.machineGun.bp[0]),e.machineGun.bp.splice(0,1),Z(e,i.whatIsInHand,"machineGun"),console.log(e.machineGun.bp,"ammo")),"right"===s&&(e.machineGun.bp[0].posX=i.posX+i.size+5,e.machineGun.bp[0].posY=i.posY-50,e.machineGun.bp[0].layOnMap=!0,e.machineGun.bp[0].direction=i.directionMove,e.machineGun.bp[0].isDrop=!0,e.machineGun.bp[0].speedX=1,ro.push(e.machineGun.bp[0]),e.machineGun.bp.splice(0,1),Z(e,i.whatIsInHand,"machineGun"))),"dynamite"===t&&("left"===s&&ro.push(new ds(i.posX-35,i.posY-51,!0,s)),"right"===s&&ro.push(new ds(i.posX+35,i.posY-51,!0,s))),"axe"===t&&("left"===s&&(e.axe.bp[0].posX=i.posX-35,e.axe.bp[0].posY=i.posY-50,e.axe.bp[0].layOnMap=!0,e.axe.bp[0].direction=i.directionMove,e.axe.bp[0].isDrop=!0,e.axe.bp[0].speedX=1,ro.push(e.axe.bp[0]),e.axe.bp.splice(0,1),ct(e,i.whatIsInHand)),"right"===s&&(e.axe.bp[0].posX=i.posX+i.size+5,e.axe.bp[0].posY=i.posY-50,e.axe.bp[0].layOnMap=!0,e.axe.bp[0].direction=i.directionMove,e.axe.bp[0].isDrop=!0,e.axe.bp[0].speedX=1,ro.push(e.axe.bp[0]),e.axe.bp.splice(0,1),ct(e,i.whatIsInHand))),"goldenCoin"===t&&("left"===s&&ro.push(new fs(i.posX-45,i.posY-51,40,!0,s)),"right"===s&&ro.push(new fs(i.posX+45,i.posY-51,40,!0,s))),"solidWall"===t&&("left"===s&&ro.push(new Ts(i.posX-25,i.posY-51,15,!0,s)),"right"===s&&ro.push(new Ts(i.posX+25,i.posY-51,15,!0,s))),"plainWall"===t&&("left"===s&&ro.push(new As(i.posX-25,i.posY-51,15,!0,s)),"right"===s&&ro.push(new As(i.posX+25,i.posY-51,15,!0,s))),"hpPotion"===t&&("left"===s&&ro.push(new Xs(i.posX-55,i.posY-51,!0,s)),"right"===s&&ro.push(new Xs(i.posX+55,i.posY-51,!0,s))),"magmaWall"===t&&("left"===s&&ro.push(new Ms(i.posX-55,i.posY-51,65,!0,s)),"right"===s&&ro.push(new Ms(i.posX+55,i.posY-51,65,!0,s))),"brickWall"===t&&("left"===s&&ro.push(new cs(i.posX-55,i.posY-51,65,!0,s)),"right"===s&&ro.push(new cs(i.posX+55,i.posY-51,65,!0,s))),"jumpFluid"===t&&("left"===s&&ro.push(new Is(i.posX-35,i.posY-51,!0,s)),"right"===s&&ro.push(new Is(i.posX+35,i.posY-51,!0,s))),"meat"===t&&("left"===s&&ro.push(new Ws(i.posX-35,i.posY-51,!0,s)),"right"===s&&ro.push(new Ws(i.posX+35,i.posY-51,!0,s))),"helperRuna"===t&&("left"===s&&ro.push(new Ys(i.posX-35,i.posY-71,!0,s)),"right"===s&&ro.push(new Ys(i.posX+35,i.posY-71,!0,s)))},Ss=(t,s)=>{t.forEach((t=>{t.style.border="none"})),void 0!==s.dataset.item&&(s.style.border="4px solid blue")},Js=t=>{t.color="black",to.canBuild=!0,no.forEach((s=>{s.forEach(((s,e,i)=>{t.posX+t.size<s.posX||t.posX>s.posX+s.size||t.posY+t.size<s.posY||t.posY>s.posY+s.size||(t.color="red",to.canBuild=!1)}))})),t.posX+t.size<to.posX||t.posX>to.posX+to.size||t.posY+t.size<to.posY||t.posY>to.posY+to.size||(t.color="red",to.canBuild=!1)},Gs=[...document.querySelectorAll(".slotBp")];let qs,Ps=new class{constructor(t,s){this.posX=t,this.posY=s,this.size=100,this.color="black"}draw(t){t.ctx.strokeStyle=this.color,t.ctx.lineWidth=1,t.ctx.strokeRect(this.posX,this.posY,this.size,this.size),t.ctx.beginPath(),t.ctx.lineWidth=1,t.ctx.moveTo(this.posX+this.size/2,this.posY),t.ctx.lineTo(this.posX+this.size/2,this.posY+this.size),t.ctx.stroke(),t.ctx.beginPath(),t.ctx.strokeStyle=this.color,t.ctx.lineWidth=1,t.ctx.moveTo(this.posX,this.posY+this.size/2),t.ctx.lineTo(this.posX+this.size,this.posY+this.size/2),t.ctx.stroke(),t.ctx.stokeStyle="red",t.ctx.lineWidth=5,t.ctx.strokeRect(this.posX+17.5,this.posY+17.5,65,65)}}(0,0),_s=0;setInterval((()=>{_s+=1,_s>3&&(_s=0)}),200);const Ds=(t,s,e)=>{let i=[];if(s===e.length)for(let o=0;o<s;o++)i.push(new t(e[o].x,e[o].y));else console.log("You have to specify equal amount coordinates and number of monster");return i},js=e.p+"3528ee81f9b11446f9bb.png",Rs=e.p+"e5e6536999b303fefd35.png",Os=new Image(100,100);Os.src=Rs;class Ls{constructor(t,s,e){this.posX=t,this.posY=s,this.size=50,this.color="red",this.image=Os,this.directionMove=e}draw(t){t.ctx.fillStyle=this.color,t.ctx.drawImage(this.image,this.posX,this.posY,this.size,this.size),"down"===this.directionMove&&(this.posY+=3),"up"===this.directionMove&&(this.posY-=3),"left"===this.directionMove&&(this.posX-=3),"right"===this.directionMove&&(this.posX+=3)}}let Ns=new Image(100,100);Ns.src=js;let Us=0;setInterval((()=>{Us++,Us>=3&&(Us=0)}),150);class Vs{constructor(t,s){this.posX=t,this.posY=s,this.size=130,this.type="dynamic",this.id="monsterFly",this.name="dragon",this.attack={wall:4,player:30,whenTouchPlayer:60},this.image=Ns,this.directionArr=["up","left","right","down"],this.directionCrossArr=["negative","positive","null"],this.directionCross=gt(this.directionCrossArr),this.directionMove=gt(this.directionArr),this.speed=1,this.left=!0,this.right=!0,this.down=!0,this.up=!0,this.animationEffect=0,this.fireBall=[],this.timerToAttack=0,this.frequencyAttack=gt([200,100,300,350,240,230,310,320]),this.hpTotal=2500,this.hp=this.hpTotal,this.percentageHp=this.size,this.ratePercentage=this.size,this._ID=Math.floor(324234*Math.random())}draw(t){1===Us&&(this.animationEffect=0),2===Us&&(this.animationEffect=191),3===Us&&(this.animationEffect=382),t.ctx.fillStyle="yellow",t.ctx.fillRect(this.posX,this.posY-5,this.percentageHp,5),t.ctx.lineWidth=1,t.ctx.strokeStyle="black",t.ctx.strokeRect(this.posX,this.posY-5,this.size,5),"left"===this.directionMove&&t.ctx.drawImage(this.image,this.animationEffect,483,191,161,this.posX,this.posY,130,this.size),"right"===this.directionMove&&t.ctx.drawImage(this.image,this.animationEffect,161,191,161,this.posX,this.posY,130,this.size),"up"===this.directionMove&&t.ctx.drawImage(this.image,this.animationEffect,0,191,161,this.posX,this.posY,130,this.size),"down"===this.directionMove&&t.ctx.drawImage(this.image,this.animationEffect,322,191,161,this.posX,this.posY,130,this.size)}movement(t){this.timerToAttack++,!0===this.left&&"left"===this.directionMove&&(this.posX-=this.speed,"negative"===this.directionCross&&(this.posY-=this.speed/2),"positive"===this.directionCross&&(this.posY+=this.speed/2),this.directionCross),!0===this.right&&"right"===this.directionMove&&(this.posX+=this.speed,"negative"===this.directionCross&&(this.posY-=this.speed/2),"positive"===this.directionCross&&(this.posY+=this.speed/2),this.directionCross),!0===this.up&&"up"===this.directionMove&&(this.posY-=this.speed,"negative"===this.directionCross&&(this.posX-=this.speed/2),"positive"===this.directionCross&&(this.posX+=this.speed/2),this.directionCross),!0===this.down&&"down"===this.directionMove&&(this.posY+=this.speed,"negative"===this.directionCross&&(this.posX-=this.speed/2),"positive"===this.directionCross&&(this.posX+=this.speed/2),this.directionCross)}}const $s=e.p+"eae6dcefaf0e8dc8d428.png";let Zs=new Image(100,100);Zs.src=$s;class Qs{constructor(t,s){this.posX=t,this.posY=s,this.size=60,this.attack=.1,this.color="plum",this.type="dynamic",this.id="monsterFly",this.image=Zs,this.name="ghost",this.directionArr=["up","left","right","down"],this.directionCrossArr=["negative","positive","null"],this.directionCross=gt(this.directionCrossArr),this.directionMove=gt(this.directionArr),this.speed=4+Ki.level/2.5,this.left=!0,this.right=!0,this.down=!0,this.up=!0,this.hpTotal=150,this.hp=this.hpTotal,this.percentageHp=50,this.ratePercentage=50,this._ID=Math.floor(213123*Math.random()),this.startPoint=Math.floor(280*Math.random())}draw(t){t.ctx.fillStyle="red",t.ctx.fillRect(this.posX,this.posY-5,this.percentageHp,5),t.ctx.lineWidth=1,t.ctx.strokeStyle="black",t.ctx.strokeRect(this.posX,this.posY-5,50,5),t.ctx.drawImage(this.image,this.posX,this.posY,this.size,this.size)}movement(){!0===this.left&&"left"===this.directionMove&&(this.posX-=this.speed,"negative"===this.directionCross&&(this.posY-=this.speed/2),"positive"===this.directionCross&&(this.posY+=this.speed/2),this.directionCross),!0===this.right&&"right"===this.directionMove&&(this.posX+=this.speed,"negative"===this.directionCross&&(this.posY-=this.speed/2),"positive"===this.directionCross&&(this.posY+=this.speed/2),this.directionCross),!0===this.up&&"up"===this.directionMove&&(this.posY-=this.speed,"negative"===this.directionCross&&(this.posX-=this.speed/2),"positive"===this.directionCross&&(this.posX+=this.speed/2),this.directionCross),!0===this.down&&"down"===this.directionMove&&(this.posY+=this.speed,"negative"===this.directionCross&&(this.posX-=this.speed/2),"positive"===this.directionCross&&(this.posX+=this.speed/2),this.directionCross)}changeWay(){if(this.startPoint++,this.startPoint>300){this.directionMove=gt(this.directionArr);let t=this.directionMove.slice(0);switch(this.startPoint=0,t){case"left":return this.left=!0;case"right":return this.right=!0;case"up":return this.up=!0;case"down":return this.down=!0}}}}const Ks=(t,s,e,i,o,a,h,n)=>{"left"===t?(s.posX=e-h,s.posY=i+o-n):"right"===t&&(s.posX=e+o,s.posY=i+o-n),s.draw(a)},te=e.p+"9bab48c96c612333408d.png",se=new Image(100,100);se.src=te;let ee=0;setInterval((()=>{ee+=1,ee>5&&(ee=0)}),100);class ie{constructor(t,s){this.posX=t,this.posY=s,this.size=60,this.attack=0,this.color="aquamarine",this.name="sheep",this.naturalSpeed=2+Ki.level/6,this.speed=this.naturalSpeed,this.strenghtGravity=3,this.doFall=!0,this.image=se,this.isAlive=!0,this.directionArr=["left","right"],this.directionMove=gt(this.directionArr),this.hpTotal=200,this.hp=this.hpTotal,this.percentageHp=this.size,this.ratePercentage=this.size,this.detect=new kt,this.blok=!1,this.liczba=0,this.detectJump=new ft,this.touchWall=!1,this.jump=!1,this.stopJump=!1,this.detectBlokJump=new Yt,this.hitInWallStrenght=3,this._ID=Math.floor(213123*Math.random())}draw(t){t.ctx.fillStyle=this.color,t.ctx.fillRect(this.posX,this.posY-10,this.percentageHp,5),t.ctx.strokeRect(this.posX,this.posY-10,this.size,5),"right"===this.directionMove&&t.ctx.drawImage(this.image,100*ee,8,95,80,this.posX,this.posY,this.size,this.size),"left"===this.directionMove&&t.ctx.drawImage(this.image,100*ee,109,95,80,this.posX,this.posY,this.size,this.size),"left"===this.directionMove&&(this.detect.posX=this.posX-40),"right"===this.directionMove&&(this.detect.posX=this.posX+this.size-this.detect.size+40),wt(this.detect,this.posY,this.size),this.detect.draw(t),Ks(this.directionMove,this.detectJump,this.posX,this.posY,this.size,t,20,90),this.detectBlokJump.posX=this.posX+10,this.detectBlokJump.posY=this.posY,this.detectBlokJump.size=this.size-20,this.detectBlokJump.draw(t)}jumpAction(){!1===this.stopJump&&(this.posY-=2,setTimeout((()=>{!1===this.stopJump&&(this.posY-=2,setTimeout((()=>{!1===this.stopJump&&(this.posY-=2)}),20),setTimeout((()=>{!1===this.stopJump&&(this.posY-=2)}),20),setTimeout((()=>{!1===this.stopJump&&(this.posY-=2)}),20),setTimeout((()=>{!1===this.stopJump&&(this.posY-=2)}),20))}),20),this.jump=!1)}movement(){!0===this.jump&&!1===this.stopJump&&(this.speed=0,this.posY-=50,this.jump=!1),"left"===this.directionMove&&(this.posX-=this.speed,!0===this.detect.trigger&&!1===this.blok&&!0===this.detect.avoidFallInChasm&&(this.directionMove="right",this.blok=!0,setTimeout((()=>{this.detect.avoidFallInChasm=!1}),1e3),setTimeout((()=>{this.blok=!1}),1e3))),"right"===this.directionMove&&(this.posX+=this.speed,!0===this.detect.trigger&&!1===this.blok&&!0===this.detect.avoidFallInChasm&&(this.directionMove="left",this.blok=!0,setTimeout((()=>{this.detect.avoidFallInChasm=!1}),1e3),setTimeout((()=>{this.blok=!1}),1e3)))}}const oe=e.p+"7c5de99cedc9e9eccc62.png",ae=e.p+"13641f7d207936052672.png",he=new Image(100,100);he.src=ae;const ne=new Image(100,100);ne.src=oe;let re=0,pe=11;setInterval((()=>{re>pe&&(re=0),re++}),100);class ce{constructor(t,s){this.posX=t,this.posY=s,this.size=60,this.sizeX=80,this.name="soldier",this.color="orange",this.naturalSpeed=1.2+Ki.level/4,this.speed=0,this.strenghtGravity=4,this.strenghtAttack=.3,this.strenghtAttackFromGun=10,this.directionArr=["left","right"],this.directionMove=gt(this.directionArr),this.isDuringAttackPlayer=!1,this.doFall=!1,this.image=ne,this.image2=he,this.heIsShooting=!1,this.hpTotal=900,this.hp=this.hpTotal,this.percentageHp=this.size,this.ratePercentage=this.size,this.arrayWithBullet=[],this.detect=new kt,this.blok=!1,this.detectJump=new ft,this.touchWall=!1,this.jump=!1,this.stopJump=!1,this.waitForNextJump=!1,this.detectBlokJump=new Yt,this.hitInWallStrenght=3,this.frequencyFireFromGun=Math.floor(400*Math.random()),this.frequencyNumber=gt([400,450,350,370,380,390,420])}draw(t,s){if(t.ctx.fillStyle=this.color,t.ctx.fillRect(this.posX,this.posY-10,this.percentageHp,7),t.ctx.lineWidth=1,t.ctx.strokeStyle="black",t.ctx.strokeRect(this.posX,this.posY-10,this.size,7),!0!==this.doFall||"left"!==this.directionMove)if(!0!==this.doFall||"right"!==this.directionMove){if("right"===this.directionMove&&!1===this.isDuringAttackPlayer&&!1===this.heIsShooting&&(pe=11,1===re&&t.ctx.drawImage(ne,9,19,85,100,this.posX,this.posY,this.size,this.size),2===re&&t.ctx.drawImage(ne,140,19,85,100,this.posX,this.posY,this.size,this.size),3===re&&t.ctx.drawImage(ne,271,19,85,100,this.posX,this.posY,this.size,this.size),4===re&&t.ctx.drawImage(ne,407,19,85,100,this.posX,this.posY,this.size,this.size),5===re&&t.ctx.drawImage(ne,550,19,85,100,this.posX,this.posY,this.size,this.size),6===re&&t.ctx.drawImage(ne,692,19,85,100,this.posX,this.posY,this.size,this.size),7===re&&t.ctx.drawImage(ne,822,19,85,100,this.posX,this.posY,this.size,this.size),8===re&&t.ctx.drawImage(ne,945,19,85,100,this.posX,this.posY,this.size,this.size),9===re&&t.ctx.drawImage(ne,1087,19,85,100,this.posX,this.posY,this.size,this.size),10===re&&t.ctx.drawImage(ne,1213,19,85,100,this.posX,this.posY,this.size,this.size),11===re&&t.ctx.drawImage(ne,1352,19,85,100,this.posX,this.posY,this.size,this.size),12===re&&t.ctx.drawImage(ne,1494,19,85,100,this.posX,this.posY,this.size,this.size)),"right"===this.directionMove&&!0===this.isDuringAttackPlayer&&!1===this.heIsShooting){pe=6;let s=530,e=110;1===re&&t.ctx.drawImage(this.image,25,s,95,e,this.posX,this.posY,this.size,this.size),2===re&&t.ctx.drawImage(this.image,158,s,95,e,this.posX,this.posY,this.size,this.size),3===re&&t.ctx.drawImage(this.image,274,s,95,e,this.posX,this.posY,this.size,this.size),4===re&&t.ctx.drawImage(this.image,440,s,95,e,this.posX,this.posY,this.size,this.size),5===re&&t.ctx.drawImage(this.image,566,s,95,e,this.posX,this.posY,this.size,this.size),6===re&&t.ctx.drawImage(this.image,693,s,95,e,this.posX,this.posY,this.size,this.size),7===re&&t.ctx.drawImage(this.image,826,s,95,e,this.posX,this.posY,this.size,this.size)}if("left"===this.directionMove&&!1===this.isDuringAttackPlayer&&!1===this.heIsShooting){pe=11;let s=150,e=102;1===re&&t.ctx.drawImage(this.image,9,s,85,e,this.posX,this.posY,this.size,this.size),2===re&&t.ctx.drawImage(this.image,140,s,85,e,this.posX,this.posY,this.size,this.size),3===re&&t.ctx.drawImage(this.image,271,s,85,e,this.posX,this.posY,this.size,this.size),4===re&&t.ctx.drawImage(this.image,407,s,85,e,this.posX,this.posY,this.size,this.size),5===re&&t.ctx.drawImage(this.image,550,s,85,e,this.posX,this.posY,this.size,this.size),6===re&&t.ctx.drawImage(this.image,692,s,85,e,this.posX,this.posY,this.size,this.size),7===re&&t.ctx.drawImage(this.image,822,s,85,e,this.posX,this.posY,this.size,this.size),8===re&&t.ctx.drawImage(this.image,945,s,85,e,this.posX,this.posY,this.size,this.size),9===re&&t.ctx.drawImage(this.image,1087,s,85,e,this.posX,this.posY,this.size,this.size),10===re&&t.ctx.drawImage(this.image,1213,s,85,e,this.posX,this.posY,this.size,this.size),11===re&&t.ctx.drawImage(this.image,1352,s,85,e,this.posX,this.posY,this.size,this.size),12===re&&t.ctx.drawImage(this.image,1494,s,85,e,this.posX,this.posY,this.size,this.size)}if("left"===this.directionMove&&!0===this.isDuringAttackPlayer&&!1===this.heIsShooting){pe=6;let s=665,e=103;1===re&&t.ctx.drawImage(this.image,21,s,73,e,this.posX,this.posY,this.size,this.size),2===re&&t.ctx.drawImage(this.image,142,s,92,e,this.posX,this.posY,this.size,this.size),3===re&&t.ctx.drawImage(this.image,268,s,90,e,this.posX,this.posY,this.size,this.size),4===re&&t.ctx.drawImage(this.image,396,s,91,e,this.posX,this.posY,this.size,this.size),5===re&&t.ctx.drawImage(this.image,570,s,77,e,this.posX,this.posY,this.size,this.size),6===re&&t.ctx.drawImage(this.image,689,s,71,e,this.posX,this.posY,this.size,this.size),7===re&&t.ctx.drawImage(this.image,818,s,85,e,this.posX,this.posY,this.size,this.size)}if("right"===this.directionMove&&!1===this.isDuringAttackPlayer&&!0===this.heIsShooting){pe=5;let s=2,e=105;1===re&&t.ctx.drawImage(this.image2,21,2,128,108,this.posX,this.posY,this.sizeX,this.size),2===re&&t.ctx.drawImage(this.image2,160,s,132,e,this.posX,this.posY,this.sizeX,this.size),3===re&&t.ctx.drawImage(this.image2,330,s,136,e,this.posX,this.posY,this.sizeX,this.size),4===re&&t.ctx.drawImage(this.image2,490,s,122,e,this.posX,this.posY,this.sizeX,this.size),5===re&&t.ctx.drawImage(this.image2,645,s,95,e,this.posX,this.posY,this.sizeX,this.size),6===re&&t.ctx.drawImage(this.image2,780,s,99,e,this.posX,this.posY,this.sizeX,this.size)}if("left"===this.directionMove&&!1===this.isDuringAttackPlayer&&!0===this.heIsShooting){pe=5;let s=132,e=105;console.log(),1===re&&t.ctx.drawImage(this.image2,0,s,98,107,this.posX,this.posY,this.sizeX,this.size),2===re&&t.ctx.drawImage(this.image2,139,s,97,e,this.posX,this.posY,this.sizeX,this.size),3===re&&t.ctx.drawImage(this.image2,251,s,124,e,this.posX,this.posY,this.sizeX,this.size),4===re&&t.ctx.drawImage(this.image2,395,s,136,e,this.posX,this.posY,this.sizeX,this.size),5===re&&t.ctx.drawImage(this.image2,550,s,135,e,this.posX,this.posY,this.sizeX,this.size),6===re&&t.ctx.drawImage(this.image2,715,s,130,e,this.posX,this.posY,this.sizeX,this.size)}"left"===this.directionMove&&(this.detect.posX=this.posX-30),"right"===this.directionMove&&(this.detect.posX=this.posX+this.size-this.detect.size+30),wt(this.detect,this.posY,this.size),this.detect.draw(t),Ks(this.directionMove,this.detectJump,this.posX,this.posY,this.size,t,20,90),this.detectBlokJump.posX=this.posX+10,this.detectBlokJump.posY=this.posY,this.detectBlokJump.size=this.size-20,this.detectBlokJump.draw(t)}else t.ctx.drawImage(ne,281,531,85,110,this.posX,this.posY,this.size,this.size);else t.ctx.drawImage(ne,566,663,85,108,this.posX,this.posY,this.size,this.size)}jumpAction(){!1===this.stopJump&&(this.posY-=3,setTimeout((()=>{!1===this.stopJump&&(this.posY-=3,setTimeout((()=>{!1===this.stopJump&&(this.posY-=3)}),20),setTimeout((()=>{!1===this.stopJump&&(this.posY-=3)}),20),setTimeout((()=>{!1===this.stopJump&&(this.posY-=3)}),20),setTimeout((()=>{!1===this.stopJump&&(this.posY-=3)}),20))}),20),this.jump=!1)}movement(){1==this.jump&&!1===this.stopJump&&(this.speed=0,this.posY-=50,this.jump=!1),"left"===this.directionMove&&(this.posX-=this.speed,!0===this.detect.trigger&&!1===this.blok&&!0===this.detect.avoidFallInChasm&&(this.directionMove="right",this.blok=!0,setTimeout((()=>{this.detect.avoidFallInChasm=!1}),1e3),setTimeout((()=>{this.blok=!1}),1e3))),"right"===this.directionMove&&(this.posX+=this.speed,!0===this.detect.trigger&&!1===this.blok&&!0===this.detect.avoidFallInChasm&&(this.directionMove="left",this.blok=!0,setTimeout((()=>{this.detect.avoidFallInChasm=!1}),1e3),setTimeout((()=>{this.blok=!1}),1e3)))}shootFromGun(t){this.arrayWithBullet.length>0&&this.arrayWithBullet.forEach(((s,e,i)=>{s.draw(t)}))}}const le=(t,s)=>{if(!1===t.detectBlokJump.canJump){if(t.stopJump=!0,t.posY=s.posY+s.size+2,"left"===t.directionMove)return t.directionMove="right",void(t.posX+=2);if("right"===t.directionMove)return t.directionMove="left",void(t.posX-=2)}},de=e.p+"ac9c90ce8671213fcab6.png",me=new Image(100,100);me.src=de;class ue{constructor(){this.posX=Math.floor(Math.random()*eo.C_W+40),this.posY=Math.floor(100*Math.random()),this.size=40,this.color="yellow",this.speed=Math.floor(5*Math.random()+1)}draw(t){t.ctx.fillStyle=this.color,t.ctx.drawImage(me,150*Math.floor(5*Math.random()),0,150,170,this.posX,this.posY,this.size,this.size),this.posY+=this.speed}}const ge=()=>{console.log("ile razy");let t=0;if(no.forEach(((s,e,i)=>{t+=s.length})),Ki.numberOfMonster=t,0===Ki.numberOfMonster){for(let t=0;t<100;t++)io.push(new ue);setTimeout((()=>{for(let t=0;t<100;t++)io.push(new ue)}),500),setTimeout((()=>{Ki.level++,oo(),io.splice(0)}),5e3)}},fe=(t,s,e)=>{t.posX<0&&(t.directionMove="right"),t.posX+t.size>eo.C_W&&(t.directionMove="left"),t.posY>eo.C_H+100&&(s.splice(e,1),console.log(s),ge())},ze=(t,s,e)=>{!0===t.detectJump.touchWall&&(t.directionMove=s,((t,s)=>{s.isVulnerable.forEach(((e,i,o)=>{e===t._ID&&(s.isHitBy="monster",s.hp-=t.hitInWallStrenght)})),!1===s.isVulnerable.includes(t._ID)&&(s.isVulnerable.push(t._ID),setTimeout((()=>{s.isVulnerable.forEach(((s,e,i)=>{s===t._ID&&i.splice(e,1)}))}),2e3))})(t,e)),!1===t.detectJump.touchWall&&(t.jump=!0)},be=(t,s)=>{s.posX>t.detect.posX+t.detect.size||s.posX+s.size<t.detect.posX||s.posY>t.detect.posY+t.detect.size||s.posY+s.size<t.detect.posY||t.detect.posY+t.detect.size>s.posY-1&&s.posY>t.detect.posY&&(t.detect.trigger=!1)};let Xe=["left","right"],ke=0;setInterval((()=>{240===ke&&(ke=0),ke+=1}),25);const we=t=>{t.forEach(((t,s,e)=>{ke%10==0&&s<e.length-1&&(t.posX>e[s+1].posX+e[s+1].size||t.posX+t.size<e[s+1].posX||t.posY>e[s+1].posY+e[s+1].size||t.posY+t.size<e[s+1].posY||0==t.detect.trigger&&(t.directionMove=gt(Xe)))}))},Ye=e.p+"a45d71f7fb199baeaf60.png",ye=e.p+"ee7ae20bb4108a7703a3.png";new Image(100,100).src=Ye;let xe=new Image(100,100);xe.src=ye;let Ie=0;setInterval((()=>{Ie++,Ie>7&&(Ie=0)}),100);class ve{constructor(t,s){this.posX=t,this.posY=s,this.naturalSize=80,this.size=this.naturalSize,this.color="darkgreen",this.name="zombie",this.naturalSpeed=1+Ki.level/4,this.speed=1,this.dposX=this.posX,this.dposY=this.posY,this.strenghtGravity=5,this.strenghtAttack=.3,this.directionArr=["left","right"],this.directionMove=gt(this.directionArr),this.isDuringAttackPlayer=!1,this.doFall=!1,this.image=xe,this.hpTotal=1050,this.hp=this.hpTotal,this.percentageHp=this.size,this.ratePercentage=this.size,this.detect=new kt,this.blok=!1,this.detectJump=new ft,this.detectBlokJump=new Yt,this.jump=!1,this.stopJump=!1,this.touchWall=!1,this.touchOtherZombie=!1,this.hitInWallStrenght=5,this._ID=Math.floor(213123*Math.random()),this.counterToChangeWay=0}draw(t){t.ctx.fillStyle=this.color,t.ctx.fillRect(this.posX,this.posY-10,this.percentageHp,7),t.ctx.lineWidth=1,t.ctx.strokeStyle="black",t.ctx.strokeRect(this.posX,this.posY-10,this.size,7),"right"===this.directionMove&&0==this.isDuringAttackPlayer&&!1===this.doFall&&(0===Ie&&t.ctx.drawImage(this.image,0,0,100,152,this.posX,this.posY,this.size,this.size),1===Ie&&t.ctx.drawImage(this.image,172,0,100,152,this.posX,this.posY,this.size,this.size),2===Ie&&t.ctx.drawImage(this.image,334,0,104,152,this.posX,this.posY,this.size,this.size),3===Ie&&t.ctx.drawImage(this.image,493,0,113,152,this.posX,this.posY,this.size,this.size),4===Ie&&t.ctx.drawImage(this.image,665,0,100,152,this.posX,this.posY,this.size,this.size),5===Ie&&t.ctx.drawImage(this.image,821,0,101,152,this.posX,this.posY,this.size,this.size),6===Ie&&t.ctx.drawImage(this.image,969,0,103,152,this.posX,this.posY,this.size,this.size),7===Ie&&t.ctx.drawImage(this.image,1156,0,100,152,this.posX,this.posY,this.size,this.size)),"left"===this.directionMove&&0==this.isDuringAttackPlayer&&!1===this.doFall&&(0===Ie&&t.ctx.drawImage(this.image,0,158,100,148,this.posX,this.posY,this.size,this.size),1===Ie&&t.ctx.drawImage(this.image,172,158,100,148,this.posX,this.posY,this.size,this.size),2===Ie&&t.ctx.drawImage(this.image,334,158,104,148,this.posX,this.posY,this.size,this.size),3===Ie&&t.ctx.drawImage(this.image,493,158,113,148,this.posX,this.posY,this.size,this.size),4===Ie&&t.ctx.drawImage(this.image,665,158,100,148,this.posX,this.posY,this.size,this.size),5===Ie&&t.ctx.drawImage(this.image,821,158,101,148,this.posX,this.posY,this.size,this.size),6===Ie&&t.ctx.drawImage(this.image,969,158,103,148,this.posX,this.posY,this.size,this.size),7===Ie&&t.ctx.drawImage(this.image,1156,158,100,148,this.posX,this.posY,this.size,this.size)),"right"===this.directionMove&&!0===this.isDuringAttackPlayer&&!1===this.doFall&&(0===Ie&&t.ctx.drawImage(this.image,15,320,115,145,this.posX,this.posY,this.size,this.size),1===Ie&&t.ctx.drawImage(this.image,183,320,98,145,this.posX,this.posY,this.size,this.size),2===Ie&&t.ctx.drawImage(this.image,350,320,100,145,this.posX,this.posY,this.size,this.size),3===Ie&&t.ctx.drawImage(this.image,530,320,105,145,this.posX,this.posY,this.size,this.size),4===Ie&&t.ctx.drawImage(this.image,680,320,115,145,this.posX,this.posY,this.size,this.size),5===Ie&&t.ctx.drawImage(this.image,830,320,130,145,this.posX,this.posY,this.size,this.size),6===Ie&&t.ctx.drawImage(this.image,985,320,145,145,this.posX,this.posY,this.size,this.size),7===Ie&&t.ctx.drawImage(this.image,1166,320,98,145,this.posX,this.posY,this.size,this.size)),"left"===this.directionMove&&!0===this.isDuringAttackPlayer&&!1===this.doFall&&(0===Ie&&t.ctx.drawImage(this.image,10,500,113,155,this.posX,this.posY,this.size,this.size),1===Ie&&t.ctx.drawImage(this.image,162,500,131,155,this.posX,this.posY,this.size,this.size),2===Ie&&t.ctx.drawImage(this.image,328,500,117,155,this.posX,this.posY,this.size,this.size),3===Ie&&t.ctx.drawImage(this.image,490,500,116,155,this.posX,this.posY,this.size,this.size),4===Ie&&t.ctx.drawImage(this.image,650,500,106,155,this.posX,this.posY,this.size,this.size),5===Ie&&t.ctx.drawImage(this.image,833,500,101,155,this.posX,this.posY,this.size,this.size),6===Ie&&t.ctx.drawImage(this.image,1005,500,97,145,this.posX,this.posY,this.size,this.size),7===Ie&&t.ctx.drawImage(this.image,1157,500,94,145,this.posX,this.posY,this.size,this.size)),"right"===this.directionMove&&!0===this.doFall&&t.ctx.drawImage(this.image,340,325,100,155,this.posX,this.posY,this.size,this.size),"left"===this.directionMove&&!0===this.doFall&&t.ctx.drawImage(this.image,840,502,100,155,this.posX,this.posY,this.size,this.size),"left"===this.directionMove&&(this.detect.posX=this.posX-50),"right"===this.directionMove&&(this.detect.posX=this.posX+this.size-this.detect.size+50),wt(this.detect,this.posY,this.size),this.detect.draw(t),Ks(this.directionMove,this.detectJump,this.posX,this.posY,this.size,t,10,110),this.detectBlokJump.posX=this.posX+10,this.detectBlokJump.posY=this.posY-10,this.detectBlokJump.size=this.size-20,this.detectBlokJump.draw(t)}jumpAction(){!1===this.stopJump&&(this.posY-=3,setTimeout((()=>{!1===this.stopJump&&(this.posY-=3,setTimeout((()=>{!1===this.stopJump&&(this.posY-=3)}),20),setTimeout((()=>{!1===this.stopJump&&(this.posY-=3)}),20),setTimeout((()=>{!1===this.stopJump&&(this.posY-=3)}),20),setTimeout((()=>{!1===this.stopJump&&(this.posY-=3)}),20))}),20),this.jump=!1)}movement(){"left"===this.directionMove&&(this.posX-=this.speed,!0===this.detect.trigger&&!1===this.blok&&!0===this.detect.avoidFallInChasm&&(this.directionMove="right",setTimeout((()=>{this.detect.avoidFallInChasm=!1}),1e3),this.blok=!0,setTimeout((()=>{this.blok=!1}),1e3))),"right"===this.directionMove&&(this.posX+=this.speed,!0===this.detect.trigger&&!1===this.blok&&!0===this.detect.avoidFallInChasm&&(setTimeout((()=>{this.detect.avoidFallInChasm=!1}),1e3),this.directionMove="left",this.blok=!0,setTimeout((()=>{this.blok=!1}),1e3)))}}const Me=(t,s,e,i,o,a,h)=>{let n=[];for(let r=0;r<s;r++)n.push(new t(e,i,o,a,h)),"horizontal"===h&&(e+=o),"vertical"===h&&(i+=o);return n},Ce=e.p+"782c51a3133ef02da7ba.png",Ee=e.p+"991c161d891c54d906ed.png",We=e.p+"a368e040c8e97d50aea8.png",He=e.p+"2604a2a4bc90d9ca2a67.png";let Ae=new Image(100,100),Be=new Image(100,100),Te=new Image(100,100),Fe=new Image(100,100);Ae.src=Ce,Be.src=Ee,Te.src=We,Fe.src=He;class Se{constructor(t,s,e,i,o){this.posX=t,this.posY=s,this.size=e,this.color=i,this.type="static",this.name="goldWall",this.direction=o,this.image=[Ae,Be,Te,Fe],this.hp=10,this.isHitBy="null",this.isVulnerable=[]}draw(t){let s=this.hp-1;s>80?t.ctx.drawImage(this.image[0],this.posX,this.posY,this.size,this.size):s>60?t.ctx.drawImage(this.image[1],this.posX,this.posY,this.size,this.size):s>25?t.ctx.drawImage(this.image[2],this.posX,this.posY,this.size,this.size):(s>0||0===s||s<1)&&t.ctx.drawImage(this.image[3],this.posX,this.posY,this.size,this.size)}}const Je=e.p+"ec244c3db39b68ce14e8.png",Ge=e.p+"8c785ec1d4bbda13f808.png",qe=e.p+"15bb11d61d1719be0f8a.png",Pe=e.p+"c742865f74b64a5b731d.png";let _e=new Image(100,100),De=new Image(100,100),je=new Image(100,100),Re=new Image(100,100);_e.src=Je,De.src=Ge,je.src=qe,Re.src=Pe;class Oe{constructor(t,s,e,i,o){this.posX=t,this.posY=s,this.size=e,this.color=i,this.isHit="null",this.name="woodenWall",this.direction=o,this.image=[_e,De,je,Re],this.hp=26,this.isHitBy="null",this.isVulnerable=[]}draw(t){let s=this.hp-1;s>19?t.ctx.drawImage(this.image[0],this.posX,this.posY,this.size,this.size):s>11?t.ctx.drawImage(this.image[1],this.posX,this.posY,this.size,this.size):s>5?t.ctx.drawImage(this.image[2],this.posX,this.posY,this.size,this.size):(s>0||0===s||s<1)&&t.ctx.drawImage(this.image[3],this.posX,this.posY,this.size,this.size)}}const Le=(t,s,e)=>{t.posX<=0&&(e(t,t.directionCross,"left"),t.posX+=2,t.down=!0,t.up=!0,t.left=!1,t.right=!0,"player"===t.id&&(t.posX+=2),console.log("d")),t.posX+t.size>=s.C_W&&(e(t,t.directionCross,"right"),t.posX-=2,t.down=!0,t.up=!0,t.left=!0,t.right=!1,"player"===t.id&&(t.posX-=2)),t.posY<=0&&(e(t,t.direction,"up"),t.down=!0,t.up=!1,t.left=!0,t.right=!0,t.posY+=2,"player"===t.id&&(t.posY+=2)),t.posY+t.size>=s.C_H&&(e(t,t.directionCross,"down"),t.posY-=2,t.down=!1,t.up=!0,t.left=!0,t.right=!0,console.log("down"),"player"===t.id&&(t.posY-=2))},Ne=(t,s,e)=>{let i=["negative","positive","null"].filter((t=>t!=s)),o=gt(i),a=["up","left","right","down"].filter((t=>t!=e)),h=gt(a);t.directionMove=h,t.directionCross=o},Ue=e.p+"d709bbe310d6709d0997.png",Ve=new Image(100,100);Ve.src=Ue;class $e{constructor(t,s,e,i,o=40){this.posX=t,this.posY=s,this.name="machineGun",this.size=50,this.image=Ve,this.layOnMap=!0,this.ammo=o,this.isDrop=e,this.direction=i,this.speedX=1,this.strenghtGravity=1}draw(t){t.ctx.drawImage(this.image,this.posX,this.posY,this.size,this.size),!0===this.isDrop&&("left"===this.direction&&(this.posX-=this.speedX),"right"===this.direction&&(this.posX+=this.speedX))}}const Ze=(t,s,e)=>{let i=t.dynamitsArray;s.forEach(((t,s,e)=>{t.forEach(((t,s,e)=>{if(t.hp<0&&"dynamite"===t.isHitBy){if("goldWall"===t.name&&1===Math.floor(2*Math.random())&&ro.push(new fs(t.posX,t.posY,t.size)),"solidWall"===t.name&&1===Math.floor(2*Math.random())&&ro.push(new Ts(t.posX,t.posY,t.size)),"plainWall"===t.name&&1===Math.floor(2*Math.random())&&ro.push(new As(t.posX,t.posY,t.size)),"magmaWall"===t.name&&1===Math.floor(2*Math.random())&&ro.push(new Ms(t.posX,t.posY,t.size)),"brickWall"===t.name&&1===Math.floor(2*Math.random())&&ro.push(new cs(t.posX,t.posY,t.size)),"woodenWall"===t.name){let s=[ds,$e,At,Is];ro.push(new(s[Math.floor(Math.random()*s.length)])(t.posX,t.posY,t.size,"true"))}e.splice(s,1)}i.forEach(((s,e,i)=>{s.timeToExplode<-76&&i.splice(e,1),s.posX+s.size<t.posX||s.posX>t.posX+t.size||s.posY>t.posY+t.size||s.posY+s.size<t.posY||(t.isHitBy="dynamite",s.speed=0,s.fallenSpeed=0,t.hp-=s.strenghtAttack)}))}))}))};let Qe=[At,Xs],Ke=[Ys,Ys,Ys],ti=[Is,ds,$e,$e],si=[$e,$e],ei=[Xs,Is];const ii=(t,s)=>{if("sheep"===t.name&&s.push(new(Qe[Math.floor(Math.random()*Qe.length)])(t.posX,t.posY,!0,t.directionMove)),"dragon"===t.name)for(let e=0;e<3;e++)s.push(new(Ke[Math.floor(Math.random()*Ke.length)])(t.posX,t.posY,!0,t.directionMove));if("zombie"===t.name)for(let e=0;e<2;e++)s.push(new(ti[Math.floor(Math.random()*ti.length)])(t.posX,t.posY,!0,t.directionMove));if("soldier"===t.name)for(let e=0;e<2;e++)s.push(new(ti[Math.floor(Math.random()*si.length)])(t.posX,t.posY,!0,t.directionMove));"ghost"===t.name&&s.push(new(ti[Math.floor(Math.random()*ei.length)])(t.posX,t.posY,!0,t.directionMove))};let oi=!1;const ai=e.p+"7d27a6133a46acf7dbae.png",hi=[...document.querySelectorAll(".slotBp")];let ni,ri=!1;const pi=(t,s,e)=>s>1&&s<70&&!1===ri&&e<50?(ri=!0,t.directionMove="left",void setTimeout((()=>{ri=!1}),500)):s<0&&s>-70&&!1===ri&&e<50?(ri=!0,t.directionMove="right",void setTimeout((()=>{ri=!1}),500)):void 0,ci=new Image(100.1);ci.src=w;class li{constructor(t,s,e){this.posX=t,this.posY=s,this.size=5,this.color="black",this.direction=e,this.speed=7,this.color="red",this.image=ci}draw(t){t.ctx.fillStyle=this.color,t.ctx.drawImage(this.image,this.posX,this.posY,this.size,this.size),"left"===this.direction&&(this.posX-=this.speed),"right"===this.direction&&(this.posX+=this.speed)}}let di=!1;const mi=e.p+"bba707fcea6caa2f53cf.png",ui=document.querySelector(".clack"),gi=document.querySelector(".timer"),fi=document.querySelector("canvas"),zi=document.querySelector(".amountLife"),bi=document.querySelector(".amountLifeImg");let Xi=0;setInterval((()=>{to.counterExtraJump>0?(gi.style.opacity=1,Xi+=36,to.counterExtraJump-=1,ui.style.transform=`rotateZ(${Xi}deg)`):gi.style.opacity=0}),1e3),bi.src=mi;let ki=0,wi=0;const Yi=document.querySelector(".announcement"),yi=t=>{Yi.textContent="",ki=0;let s=["Welecome players..","Check what items you can use in game","definitely read instruction","...and click start game","of course if you","don't worry about be eaten "],e=["time to rest","Did you leave something unfinished?","where are you going!","Muaahaha dragons never...","Lets talk about your goal.."],i=Math.floor(Math.random()*e.length),o=()=>{if(0===Ki.click){if(ki>s[wi].length-1)return void(wi<5&&setTimeout((()=>{wi+=1,yi()}),3e3));Yi.textContent+=s[wi][ki]}else{if(ki>e[i].length-1)return void setTimeout((()=>{yi()}),3e3);Yi.textContent+=e[i][ki]}ki++,setTimeout((()=>{"menu"===Ki.playGame&&o()}),200)};o()},xi=(document.querySelector(".board"),document.querySelector(".startGame")),Ii=document.querySelector(".mainMenu"),vi=document.querySelector(".pause"),Mi=(document.querySelector(".windowAlert"),[...document.querySelectorAll(".tab")]),Ci=document.querySelector(".items"),Ei=document.querySelector(".story"),Wi=document.querySelector(".instruction"),Hi=document.querySelector(".logoGame");let Ai=!1;const Bi=(t,s)=>{s.forEach(((s,e,i)=>{t.bulletGlockArray.forEach(((t,o,a)=>{if(t.posX+t.size<s.posX||t.posX>s.posX+s.size||t.posY>s.posY+s.size||t.posY+t.size<s.posY);else if(s.hp-=t.strenghtAttack,s.percentageHp-=vt(t.strenghtAttack,s),a.splice(o,1),s.hp<0&&!1===Ai)return console.log("ile razy w glock"),Ai=!0,ii(s,ro),i.splice(e,1),ge(),void setTimeout((()=>{Ai=!1}),300)}))}))};let Ti=0;const Fi=t=>{t.bulletGlockArray.splice(0),t.dynamitsArray.splice(0),t.axeArray.splice(0),t.blockToBuild.splice(0)},Si=e.p+"8dbef664b85c19336056.png",Ji=e.p+"3534c25117f50c654a0d.png",Gi=e.p+"9b4ea3789f86c7c74833.png",qi=e.p+"8d0daf88e07bf92c460b.png",Pi=e.p+"8085c14ecc704e877653.png",_i=e.p+"0bb4d51305105e5bd7c6.png";class Di{constructor(t=eo.C_W+Math.floor(300*Math.random()),s){this.size=Math.floor(60*Math.random()+70),this.posX=t,this.posY=Math.floor(Math.random()*eo.C_H/100),this.speed=gt([.5,.9,1,1.25,1.5]),this.outfit=Math.floor(5*Math.random())}draw(t){1===this.outfit&&t.ctx.drawImage(ji,15,0,108,144,this.posX,this.posY,this.size,this.size),2===this.outfit&&t.ctx.drawImage(ji,431,154,149,92,this.posX,this.posY+100,this.size,this.size),3===this.outfit&&t.ctx.drawImage(ji,8,283,135,85,this.posX,this.posY+200,this.size,this.size),4===this.outfit&&t.ctx.drawImage(ji,440,18,135,109,this.posX-200,this.posY+100,this.size,this.size),5===this.outfit&&t.ctx.drawImage(ji,133,12,140,95,this.posX-300,this.posY+100,this.size,this.size),this.posX-=this.speed}}const ji=new Image(100,100);ji.src=Ji;let Ri,Oi=[ce,ve,Vs,Qs,ie],Li=8e3,Ni=0,Ui=!1,Vi=!1,$i=!1,Zi=[],Qi=[rs,ds,Ys,$e,At,Xs,Is];const Ki=new class{constructor(){this.playGame="menu",this.click=0,this.level=4,this.numberOfMonster=0,this.navigation="home"}};let to=new class{constructor(){this.posX=386,this.posY=623,this.size=40.7,this.color="blue",this.image=Et,this.animation=0,this.id="player",this.strenghtGravity=2,this.directionMove="down",this.directionAttack="left",this.directionJump="left",this.speed=19.57,this.up=!0,this.down=!0,this.left=!0,this.right=!0,this.powerJump=50,this.counterJump=0,this.stop=!1,this.counterExtraJump=0,this.extraJump=!1,this.hpTotal=20,this.hp=this.hpTotal,this.percentageHp=50,this.ratePercentage=50,this.whenPlayerLostLife="transparent",this.quantityLive=113,this.effect=0,this.whatIsInHand=void 0,this.backpack={money:{amount:20,itemInBp:!1},axe:{amount:0,itemInBp:!1,ammo:"",bp:[],totalEndurance:0},glock:{amount:0,itemInBp:!1,bp:[],ammo:0,flag:!0},machineGun:{amount:0,itemInBp:!1,bp:[],ammo:0,flag:!0},dynamite:{amount:453540,itemInBp:!1,ammo:""},solidWall:{amount:333330,itemInBp:!1,ammo:0},plainWall:{amount:0,itemInBp:!1,ammo:0},brickWall:{amount:0,itemInBp:!1,ammo:0},magmaWall:{amount:0,itemInBp:!1,ammo:0},woodenWall:{amount:0,itemInBp:!1,ammo:0},hpPotion:{amount:0,itemInBp:!1,ammo:0},jumpFluid:{amount:0,itemInBp:!1,ammo:0},meat:{amount:0,itemInBp:!1,ammo:0},helperRuna:{amount:0,itemInBp:!1,ammo:0}},this.mode=!0,this.blockToBuild=[new G(100,100,0,"red","horizontal")],this.canBuild=!0,this.bulletGlockArray=[],this.dynamitsArray=[],this.axeArray=[],this.deadEffect=!1}draw(t){t.ctx.fillStyle=this.whenPlayerLostLife,t.ctx.fillRect(this.posX,this.posY,this.size,this.size);let s=this.hp/this.hpTotal*this.ratePercentage;s>25?t.ctx.fillStyle="green":s<28&&s>12?t.ctx.fillStyle="yellow":s<11&&(t.ctx.fillStyle="red"),t.ctx.fillRect(this.posX,this.posY-25,this.percentageHp,10),t.ctx.lineWidth=1,t.ctx.strokeStyle="black",t.ctx.strokeRect(this.posX,this.posY-25,50,10),!0===this.treatment&&(this.effect++,this.effect%10!=0&&this.effect%10!=9&&this.effect%10!=11&&this.effect%10!=12&&this.effect%10!=13&&this.effect%10!=14||t.ctx.drawImage(Ct,this.posX-10,this.posY-10,this.size+20,this.size+10)),"up"!==this.directionMove&&"down"!==this.directionMove||t.ctx.drawImage(this.image,0,0,250,230,this.posX,this.posY,this.size,this.size),"left"===this.directionMove&&!1===this.deadEffect&&(t.ctx.drawImage(this.image,this.animation,500,250,220,this.posX,this.posY,this.size,this.size),this.animation>=1e3&&(this.animation=0)),"right"===this.directionMove&&!1===this.deadEffect&&(t.ctx.drawImage(this.image,this.animation,750,250,220,this.posX,this.posY,this.size,this.size),this.animation>=1e3&&(this.animation=0),(!0===this.deadEffect&&"right"===this.directionMove||"left"===this.directionMove)&&(t.ctx.drawImage(this.image,this.animation,750,250,220,this.posX,this.posY,this.size,this.size),this.animation>=1e3&&(this.animation=0)))}moveUp(){this.stop=!1,!0===this.up&&(this.posY-=this.powerJump,setTimeout((()=>{!1===this.stop&&(this.posY-=this.powerJump),setTimeout((()=>{!1===this.stop&&(this.posY-=this.powerJump),setTimeout((()=>{!1===this.stop&&(this.posY-=this.powerJump,console.log("dziala")),setTimeout((()=>{!1===this.stop&&(this.posY-=this.powerJump),setTimeout((()=>{!1===this.stop&&(this.posY-=this.powerJump),!0===this.extraJump&&setTimeout((()=>{!1===this.stop&&(this.posY-=this.powerJump),!0===this.extraJump&&setTimeout((()=>{!1===this.stop&&(this.posY-=this.powerJump),!0===this.extraJump&&setTimeout((()=>{!1===this.stop&&(this.posY-=this.powerJump),!0===this.extraJump&&setTimeout((()=>{!1===this.stop&&(this.posY-=this.powerJump),!0===this.extraJump&&setTimeout((()=>{!1===this.stop&&(this.posY-=this.powerJump)}),20)}),20)}),20)}),20)}),20)}),20)}),20)}),20)}),20)}),20)),this.right=!0,this.left=!0,this.down=!0,this.directionMove="up",this.directionAttack="up"}moveLeft(){this.strenghtGravity=2,this.animation+=250,this.animation>=1200&&(this.animation=0),this.right=!0,this.directionMove="left",this.directionAttack="left",this.directionJump="left",!0===this.left&&(this.posX-=this.speed)}moveRight(){this.animation+=250,this.animation>=1200&&(this.animation=0),this.left=!0,this.directionMove="right",this.directionAttack="right",this.directionJump="right",!0===this.right&&(this.posX+=this.speed)}moveDown(){this.directionMove="down",this.directionAttack="down"}fire(){"axe"===this.whatIsInHand&&this.backpack.axe.amount>0&&this.axeArray.length<1&&(this.axeArray.push(new C(this.posX,this.posY,this.directionMove,this.size)),this.backpack.axe.bp[0].endurance-=10,(this.backpack.axe.bp[0].endurance<0||0==this.backpack.axe.bp[0].endurance)&&(this.backpack.axe.amount-=1,this.backpack.axe.bp.splice(0,1)),U("axe",this.backpack),ct(this.backpack,this.whatIsInHand)),"glock"===this.whatIsInHand&&(this.backpack.glock.ammo>0&&!0===this.backpack.glock.flag&&(this.bulletGlockArray.push(new y(this.posX,this.posY,this.directionMove)),this.backpack.glock.bp[0].ammo-=1,this.backpack.glock.flag=!1,setTimeout((()=>{this.backpack.glock.flag=!0}),300),0===this.backpack.glock.bp[0].ammo&&(this.backpack.glock.bp.splice(0,1),this.backpack.glock.amount-=1)),Z(this.backpack,this.whatIsInHand,"glock"),U("glock",this.backpack)),"machineGun"===this.whatIsInHand&&(this.backpack.machineGun.ammo>0&&!0===this.backpack.machineGun.flag&&(this.bulletGlockArray.push(new y(this.posX,this.posY,this.directionMove)),this.backpack.machineGun.bp[0].ammo-=1,this.backpack.machineGun.flag=!1,setTimeout((()=>{this.backpack.machineGun.flag=!0}),100),0===this.backpack.machineGun.bp[0].ammo&&(this.backpack.machineGun.bp.splice(0,1),this.backpack.machineGun.amount-=1)),Z(this.backpack,this.whatIsInHand,"machineGun"),U("machineGun",this.backpack)),"dynamite"===this.whatIsInHand&&this.backpack.dynamite.amount>0&&(this.dynamitsArray.push(new k(this.posX,this.posY,this.directionMove)),this.backpack.dynamite.amount-=1,U("dynamite",this.backpack)),"hpPotion"===this.whatIsInHand&&this.backpack.hpPotion.amount>0&&(this.hp=this.hpTotal,this.percentageHp=50,this.backpack.hpPotion.amount-=1,this.treatment=!0,setTimeout((()=>{this.treatment=!1}),3e3),U("hpPotion",this.backpack)),"jumpFluid"===this.whatIsInHand&&this.backpack.jumpFluid.amount>0&&(this.counterExtraJump+=10,this.backpack.jumpFluid.amount-=1,U("jumpFluid",this.backpack)),"meat"===this.whatIsInHand&&this.backpack.meat.amount>0&&(this.backpack.meat.amount-=1,this.hp+=50,this.percentageHp+=vt(50,to),this.treatment=!0,setTimeout((()=>{this.treatment=!1}),3e3),U("meat",this.backpack)),"helperRuna"===this.whatIsInHand&&this.backpack.helperRuna.amount>0&&(console.log(this.backpack.helperRuna.amount),this.backpack.helperRuna.amount-=1,ao.push(new It(this.posX,this.posY-20)),U("helperRuna",this.backpack))}};var so;document.querySelector("body"),so=Ki,xi.addEventListener("click",(()=>{so.playGame="game",Ii.style.opacity=0,Ii.style.zIndex=-100,so.click=1})),vi.addEventListener("click",(()=>{so.playGame="menu",Ii.style.opacity=1,Ii.style.zIndex=100,so.click++,xi.textContent="Return",yi()})),Mi.forEach(((t,s,e)=>{t.addEventListener("click",(()=>{Mi.forEach((t=>{t.style.backgroundColor="gray",t.style.borderStyle="none",Hi.style.transform="scale(0)"})),"items"===t.textContent?(t.style.backgroundColor="red",Ci.style.display="block",Wi.style.display="none",Ei.style.display="none"):"story"===t.textContent?(t.style.backgroundColor="red",Ei.style.display="block",Ci.style.display="none",Wi.style.display="none"):"instruction"===t.textContent&&(t.style.backgroundColor="red",Ei.style.display="none",Ci.style.display="none",Wi.style.display="block")}))})),yi();let eo=(()=>{const t=document.getElementById("canvas"),s=t.getContext("2d");return t.style.marginTio="0px",t.width=1600,t.height=900,{C_H:900,C_W:1600,ctx:s,canvas:t}})(),io=[],oo=()=>{console.log(Ki.level),2===Ki.level&&(console.log("2level"),ho=((t,s)=>(t.posX=226,t.posY=630,[Me(as,5,0,s.C_H-150,65,"red","horizontal"),,Me(_t,20,510,s.C_H-150,65,"red","horizontal"),Me(as,10,0,s.C_H-215,65,"red","horizontal"),Me(_t,10,845,s.C_H-215,65,"red","horizontal"),Me(Oe,2,0,s.C_H-280,65,"red","horizontal"),Me(_t,15,0,s.C_H-345,65,"red","horizontal"),Me(_t,15,0,s.C_H-345,65,"red","horizontal"),Me(_t,30,0,s.C_H-410,65,"red","horizontal"),Me($t,10,0,s.C_H-605,65,"red","horizontal"),Me($t,10,0,s.C_H-835,65,"red","horizontal"),Me($t,10,715,s.C_H-770,65,"red","horizontal"),Me(Oe,1,1365,s.C_H-835,65,"red","horizontal"),Me(Oe,1,1365,s.C_H-770,65,"red","horizontal"),Me(as,1,585,s.C_H-770,65,"red","horizontal"),Me(as,1,585,s.C_H-705,65,"red","horizontal"),Me(Oe,4,700,425,65,"red","horizontal"),Me(Se,3,1400,425,65,"red","horizontal"),Me(Se,3,1400,360,65,"red","horizontal"),Me($t,3,1400,295,65,"red","horizontal"),Me($t,1,1335,295,65,"red","horizontal"),Me($t,1,1335,360,65,"red","horizontal"),Me($t,1,1335,425,65,"red","horizontal"),t.blockToBuild]))(to,eo),no=[Ds(ce,1,[{x:100,y:200}]),Ds(ce,1,[{x:200,y:200}]),Ds(ce,1,[{x:50,y:200}]),Ds(ve,1,[{x:850,y:10}]),Ds(ve,1,[{x:850,y:10}]),Ds(ve,1,[{x:950,y:600}]),Ds(ie,1,[{x:1250,y:600}]),Ds(ie,1,[{x:1150,y:600}])],ro=[new rs(200,600,!0,"left"),new rs(200,600,!0,"left"),new rs(200,600,!0,"left"),new rs(200,600,!0,"left"),new rs(200,600,!0,"left"),new rs(200,600,!0,"left"),new rs(200,600,!0,"left"),new rs(200,600,!0,"left"),new rs(200,600,!0,"left"),new rs(200,600,!0,"left"),new rs(200,600,!0,"left")],Fi(to),console.log("ile razy sie wykonuje"),to.hpTotal+=50),3===Ki.level&&(console.log("3level"),ho=((t,s)=>(t.posX=123,t.posY=90,[Me(as,30,0,0,65,"red","horizontal"),Me(G,10,200,130,65,"red","horizontal"),Me(Se,5,0,195,65,"red","horizontal"),Me(Se,2,200,65,65,"red","horizontal"),Me(G,10,0,500,65,"red","horizontal"),Me(G,10,0,565,65,"red","horizontal"),Me(as,8,0,630,65,"red","horizontal"),Me(Se,2,520,630,65,"red","horizontal"),Me(as,1,650,630,65,"red","horizontal"),Me(as,1,650,565,65,"red","horizontal"),Me(as,1,650,500,65,"red","horizontal"),Me(_t,10,950,500,65,"red","horizontal"),Me(as,1,885,500,65,"red","horizontal"),Me(as,1,885,435,65,"red","horizontal"),Me(as,1,885,370,65,"red","horizontal"),Me(as,1,885,305,65,"red","horizontal"),Me(as,8,1080,305,65,"red","horizontal"),Me(Oe,5,1080,435,65,"red","horizontal"),Me($t,10,780,700,65,"red","horizontal"),t.blockToBuild]))(to),no=[Ds(Qs,1,[{x:100,y:200}]),Ds(Qs,1,[{x:500,y:400}]),Ds(Qs,1,[{x:500,y:600}]),Ds(Qs,1,[{x:900,y:800}]),Ds(ce,1,[{x:400,y:500}]),Ds(Vs,1,[{x:100,y:400}]),Ds(ce,1,[{x:1200,y:300}]),Ds(ve,1,[{x:1200,y:200}]),Ds(ie,1,[{x:1200,y:300}])],ro=[new At(20,40,!0,"none"),new At(20,40,!0,"none"),new At(20,40,!0,"none"),new At(20,40,!0,"none"),new At(20,40,!0,"none"),new ds(20,40,!0,"none"),new Is(20,30,!0,"none"),new Xs(20,30,!0,"none")],Fi(to),to.hpTotal+=50),4===Ki.level&&(console.log("4level"),to.posX=1444,to.posY=355,ho=[Me(as,10,0,700,65,"red","horizontal"),Me(_t,2,520,635,65,"red","horizontal"),Me(as,10,650,575,65,"red","horizontal"),Me(Se,2,650,635,65,"red","horizontal"),Me($t,5,1295,635,65,"red","horizontal"),Me($t,5,1295,570,65,"red","horizontal"),Me($t,3,1295,505,65,"red","horizontal"),Me(_t,2,1490,505,65,"red","horizontal"),Me($t,5,1295,460,65,"red","horizontal"),Me($t,5,1295,395,65,"red","horizontal"),Me(_t,1,1295,330,65,"red","horizontal"),Me(_t,1,1295,265,65,"red","horizontal"),Me(_t,1,1295,200,65,"red","horizontal"),Me(_t,1,1295,135,65,"red","horizontal"),Me(as,1,1295,70,65,"red","horizontal"),Me(as,4,1360,265,65,"red","horizontal"),Me(Oe,2,1360,200,65,"red","horizontal"),Me(Oe,3,65,635,65,"red","horizontal"),Me($t,15,65,200,65,"red","horizontal"),Me(Se,15,65,265,65,"red","horizontal"),Me($t,15,65,330,65,"red","horizontal"),Me($t,1,975,135,65,"red","horizontal"),Me($t,1,975,70,65,"red","horizontal"),Me(Se,1,975,5,65,"red","horizontal"),Me($t,1,975,135,65,"red","horizontal"),Me($t,1,975,70,65,"red","horizontal"),Me($t,1,975,5,65,"red","horizontal"),Me($t,1,975,135,65,"red","horizontal"),Me($t,1,65,70,65,"red","horizontal"),Me($t,1,65,5,65,"red","horizontal"),Me($t,1,65,135,65,"red","horizontal"),Me($t,1,65,70,65,"red","horizontal"),Me($t,1,65,5,65,"red","horizontal")],no=[Ds(Vs,1,[{x:800,y:200}]),Ds(Vs,1,[{x:600,y:200}]),Ds(Vs,1,[{x:600,y:500}]),Ds(ve,1,[{x:600,y:500}]),Ds(ve,1,[{x:800,y:500}]),Ds(Qs,1,[{x:100,y:100}]),Ds(Qs,1,[{x:800,y:200}]),Ds(Qs,1,[{x:400,y:700}]),Ds(Qs,1,[{x:120,y:190}])],ro=[new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0),new rs(1500,355,!0)],Fi(to),to.hpTotal+=50),5===Ki.level&&(to.posX=400,to.posY=600,ho=[Me(G,30,0,0,65,"red","horizontal"),Me(G,30,0,65,65,"red","horizontal"),Me(G,30,0,130,65,"red","horizontal"),Me(_t,30,0,195,65,"red","horizontal"),Me(_t,30,0,260,65,"red","horizontal"),Me(as,30,0,325,65,"red","horizontal"),Me(Se,3,600,390,65,"red","horizontal"),Me(_t,1,795,390,65,"red","horizontal"),Me(Se,3,600,455,65,"red","horizontal"),Me(_t,1,795,455,65,"red","horizontal"),Me(Se,3,600,520,65,"red","horizontal"),Me(_t,1,795,520,65,"red","horizontal"),Me(Se,3,600,585,65,"red","horizontal"),Me(_t,1,795,585,65,"red","horizontal"),Me(Se,3,600,650,65,"red","horizontal"),Me(_t,1,795,650,65,"red","horizontal"),Me(Oe,5,0,eo.C_H-325,65,"red","horizontal"),Me(Oe,5,0,eo.C_H-390,65,"red","horizontal"),Me(as,30,0,eo.C_H-260,65,"red","horizontal"),Me($t,30,0,eo.C_H-65,65,"red","horizontal"),Me($t,30,0,eo.C_H-130,65,"red","horizontal"),Me($t,30,0,eo.C_H-195,65,"red","horizontal")],no=[Ds(Vs,1,[{x:1200,y:500}]),Ds(Vs,1,[{x:1300,y:500}]),Ds(Vs,1,[{x:1100,y:500}]),Ds(ve,1,[{x:1190,y:500}]),Ds(ve,1,[{x:1250,y:500}]),Ds(ce,1,[{x:1050,y:500}]),Ds(ce,1,[{x:1e3,y:500}]),Ds(ce,1,[{x:1100,y:500}]),Ds(ce,1,[{x:1400,y:500}]),Ds(ie,1,[{x:400,y:500}])],ro=[new rs(400,500,!0),new rs(400,500,!0),new rs(400,500,!0),new rs(400,500,!0),new rs(400,500,!0),new rs(400,500,!0),new rs(400,500,!0),new rs(400,500,!0),new rs(400,500,!0),new rs(400,500,!0),new rs(400,500,!0)],Fi(to),to.hpTotal+=50),6===Ki.level&&(to.posX=800,to.posY=500,ho=[Me(as,25,0,500,65,"blue","horizontal"),Me(as,25,0,565,65,"blue","horizontal"),Me(as,25,0,630,65,"blue","horizontal"),Me(as,25,0,695,65,"blue","horizontal"),Me(as,25,0,760,65,"blue","horizontal"),to.blockToBuild],setInterval((()=>{Ni++,Ni>5&&!1===Ui&&(Li=6e3,Ui=!0),Ni>10&&!1===Vi&&(Li=4e3,Vi=!0),Ni>20&&!1===$i&&(Li=2e3,$i=!0),Ri.push(Ds(Oi[Math.floor(Math.random()*Oi.length)],1,[{x:Math.floor(Math.random()*eo.C_W),y:100}]))}),Li),Ri=[],no=Ri,setInterval((()=>{Zi.push(new(Qi[Math.floor(Math.random()*Qi.length)])(Math.floor(Math.random()*eo.C_W),20,!0))}),7e3),ro=Zi,Fi(to),to.hpTotal+=50)},ao=[],ho=((t,s)=>(t.posX=400,t.posY=500,[Me(as,25,0,s.C_H-95,65,"red","horizontal"),Me(as,20,325,s.C_H-155,65,"red","horizontal"),Me(Se,4,0,s.C_H-155,65,"red","horizontal"),Me(Oe,1,260,s.C_H-155,65,"red","horizontal"),Me(as,25,0,s.C_H-220,65,"red","horizontal"),Me(_t,5,0,s.C_H-285,65,"red","horizontal"),Me(_t,5,450,s.C_H-285,65,"red","horizontal"),Me(Oe,5,770,s.C_H-285,65,"red","horizontal"),Me(_t,4,65,s.C_H-350,65,"red","horizontal"),Me(Se,5,450,s.C_H-350,65,"red","horizontal"),Me(as,1,500,s.C_H-415,65,"red","horizontal"),Me(as,30,0,s.C_H-480,65,"red","horizontal"),Me(as,5,0,s.C_H-545,65,"red","horizontal"),Me(_t,15,600,s.C_H-545,65,"red","horizontal"),Me(G,5,0,s.C_H-610,65,"red","horizontal"),Me(G,15,600,s.C_H-610,65,"red","horizontal"),Me(as,10,330,s.C_H-780,65,"red","horizontal"),Me(Oe,6,620,s.C_H-675,65,"red","horizontal"),Me(Oe,1,43,80,65,"red","horizontal"),t.blockToBuild]))(to,eo),no=[Ds(ie,1,[{x:335,y:467}])],ro=[new At(348,621,!0),new $e(348,621,!0),new ds(348,621,!0),new Ys(348,621,!0),new rs(348,621,!0),new rs(348,621,!0),new rs(348,621,!0),new At(32,463,!0)];((t,s)=>{let e,i;window.addEventListener("keydown",(s=>{37===s.keyCode&&t.moveLeft(),39===s.keyCode&&t.moveRight(),40===s.keyCode&&t.moveDown(),32===s.keyCode&&t.fire(),s.keyCode})),window.addEventListener("keyup",(s=>{38===s.keyCode&&(t.counterJump<1&&(t.moveUp(),t.counterJump++),t.counterJump>1&&(t.up=!1)),49===s.keyCode&&"true"!==Gs[0].dataset.empty&&(t.whatIsInHand=Gs[0].dataset.item,Ss(Gs,Gs[0]),ht(Gs,t)),50===s.keyCode&&"true"!==Gs[1].dataset.empty&&(t.whatIsInHand=Gs[1].dataset.item,Ss(Gs,Gs[1]),ht(Gs,t)),51===s.keyCode&&"true"!==Gs[2].dataset.empty&&(t.whatIsInHand=Gs[2].dataset.item,Ss(Gs,Gs[2]),ht(Gs,t)),52===s.keyCode&&"true"!==Gs[3].dataset.empty&&(t.whatIsInHand=Gs[3].dataset.item,Ss(Gs,Gs[3]),ht(Gs,t)),53===s.keyCode&&"true"!==Gs[4].dataset.empty&&(t.whatIsInHand=Gs[4].dataset.item,Ss(Gs,Gs[4]),ht(Gs,t)),54===s.keyCode&&"true"!==Gs[5].dataset.empty&&(t.whatIsInHand=Gs[5].dataset.item,Ss(Gs,Gs[5]),ht(Gs,t)),55===s.keyCode&&"true"!==Gs[6].dataset.empty&&(t.whatIsInHand=Gs[6].dataset.item,Ss(Gs,Gs[6]),ht(Gs,t)),56===s.keyCode&&"true"!==Gs[7].dataset.empty&&(t.whatIsInHand=Gs[7].dataset.item,Ss(Gs,Gs[7]),ht(Gs,t)),71===s.keyCode&&(Gs.forEach(((s,e,i)=>{s.dataset.item==t.whatIsInHand&&(Fs(s.dataset.item,t.directionMove,t.backpack,t),U(s.dataset.item,t.backpack,"drop"))})),console.log(Gs))})),window.addEventListener("click",(s=>{!0===t.canBuild&&("solidWall"===t.whatIsInHand&&t.backpack.solidWall.amount>0&&(t.blockToBuild.push(new as(qs.x-32.5,qs.y-32.5,65,"red","horizontal")),t.backpack.solidWall.amount-=1,U("solidWall",t.backpack)),"plainWall"===t.whatIsInHand&&t.backpack.plainWall.amount>0&&(t.blockToBuild.push(new G(qs.x-32.5,qs.y-32.5,65,"red","horizontal")),t.backpack.plainWall.amount-=1,U("plainWall",t.backpack)),"magmaWall"===t.whatIsInHand&&t.backpack.magmaWall.amount>0&&(t.blockToBuild.push(new $t(qs.x-32.5,qs.y-32.5,65,"red","horizontal")),t.backpack.magmaWall.amount-=1,U("magmaWall",t.backpack)),"brickWall"===t.whatIsInHand&&t.backpack.brickWall.amount>0&&(t.blockToBuild.push(new _t(qs.x-32.5,qs.y-32.5,65,"red","horizontal")),t.backpack.magmaWall.amount-=1,U("brickWall",t.backpack)))})),window.addEventListener("mousemove",(t=>{e=t.x,i=t.y,qs=((t,s)=>{let e=100*t/window.innerWidth,i=100*s/window.innerHeight;return{x:e/100*eo.C_W,y:i/100*eo.C_H}})(e,i),Ps.posX=qs.x-Ps.size/2,Ps.posY=qs.y-Ps.size/2,Js(Ps)}))})(to),new Image(100,100).src=Si;const po=new class{constructor(){this.arrayCloud=[new Di(500),new Di(800)]}makebackground(t){1===Ki.level&&(t.canvas.style.backgroundImage=`url(${qi})`,t.canvas.style.backgroundSize="cover",t.canvas.style.backgroundRepeat="no-repeat",this.arrayCloud.length<7&&this.arrayCloud.push(new Di),this.arrayCloud.forEach(((s,e,i)=>{s.draw(t),s.posX+s.size<0&&i.splice(e,1)}))),2===Ki.level&&(t.canvas.style.backgroundImage=`url(${Gi})`,t.canvas.style.backgroundSize="cover",t.canvas.style.backgroundRepeat="no-repeat",this.arrayCloud.length<5&&this.arrayCloud.push(new Di),this.arrayCloud.forEach(((s,e,i)=>{s.draw(t),s.posX+s.size<0&&i.splice(e,1)}))),3===Ki.level&&(t.canvas.style.backgroundImage=`url(${Gi})`,t.canvas.style.backgroundSize="cover",t.canvas.style.backgroundRepeat="no-repeat",this.arrayCloud.length<8&&this.arrayCloud.push(new Di),this.arrayCloud.forEach(((s,e,i)=>{s.draw(t),s.posX+s.size<0&&i.splice(e,1)}))),4===Ki.level&&(t.canvas.style.backgroundImage=`url(${Pi})`,t.canvas.style.backgroundSize="cover",t.canvas.style.backgroundRepeat="no-repeat",this.arrayCloud.length<7&&this.arrayCloud.push(new Di),this.arrayCloud.forEach(((s,e,i)=>{s.draw(t),s.posX<-this.size&&i.splice(e,1)}))),Ki.level>4&&(t.canvas.style.backgroundImage=`url(${_i})`,t.canvas.style.backgroundSize="cover",t.canvas.style.backgroundRepeat="no-repeat",this.arrayCloud.length<3&&this.arrayCloud.push(new Di),this.arrayCloud.forEach(((s,e,i)=>{s.draw(t),s.posX<-this.size&&i.splice(e,1)})))}},co=()=>{"game"===Ki.playGame&&(eo.ctx.clearRect(0,0,eo.C_W,eo.C_H),po.makebackground(eo),(t=>{zi.textContent=t.quantityLive,(t.hp<0||0==t.hp)&&(t.quantityLive-=1,fi.style.backgroundColor="red",bi.src=Mt,t.whenPlayerLostLife="red",zi.style.backgroundColor="red",setTimeout((()=>{t.whenPlayerLostLife="transparent",zi.style.backgroundColor="bisque",bi.src=mi}),3e3),0===t.quantityLive&&t.hp<0&&(Ki.playGame="game-over"),t.hp=t.hpTotal,t.percentageHp=t.ratePercentage),t.counterExtraJump>0?t.extraJump=!0:t.extraJump=!1})(to),((t,s)=>{s.forEach(((s,e,i)=>{if(!1===s.layOnMap){if("goldenCoin"===s.name){t.backpack.money.amount++;for(let s=0;s<hi.length;s++)if("true"===hi[s].dataset.empty&&!1===t.backpack.money.itemInBp){hi[s].src=ai,hi[s].dataset.item="goldenCoin",t.backpack.money.itemInBp=!0,hi[s].dataset.empty="false";break}}if("axe"===s.name){t.backpack.axe.bp.push(s),ct(t.backpack);for(let s=0;s<hi.length;s++)if("true"===hi[s].dataset.empty&&!1===t.backpack.axe.itemInBp){hi[s].src=hs,hi[s].dataset.item="axe",t.backpack.axe.itemInBp=!0,hi[s].dataset.empty="false";break}}if("glock"===s.name){t.backpack.glock.bp.push(s),s.isDrop=!1,Z(t.backpack,t.whatIsInHand,"glock");for(let s=0;s<hi.length;s++)if("true"===hi[s].dataset.empty&&!1===t.backpack.glock.itemInBp){hi[s].src=Wt,hi[s].dataset.item="glock",t.backpack.glock.itemInBp=!0,hi[s].dataset.empty="false";break}return void i.splice(e,1)}if("machineGun"===s.name){t.backpack.machineGun.bp.push(s),s.isDrop=!1,Z(t.backpack,t.whatIsInHand,"machineGun");for(let s=0;s<hi.length;s++)if("true"===hi[s].dataset.empty&&!1===t.backpack.machineGun.itemInBp){hi[s].src=Ue,hi[s].dataset.item="machineGun",t.backpack.machineGun.itemInBp=!0,hi[s].dataset.empty="false";break}return void i.splice(e,1)}if("dynamite"===s.name){t.backpack.dynamite.amount+=1;for(let s=0;s<hi.length;s++)if("true"===hi[s].dataset.empty&&!1===t.backpack.dynamite.itemInBp){hi[s].src=f,hi[s].dataset.item="dynamite",t.backpack.dynamite.itemInBp=!0,hi[s].dataset.empty="false";break}}if("Wall"===s.name.slice(-4)){if("solidWall"===s.name){t.backpack.solidWall.amount+=1;for(let e=0;e<hi.length;e++)if("true"===hi[e].dataset.empty&&!1===t.backpack.solidWall.itemInBp){hi[e].src=Zt,hi[e].dataset.item=s.name,t.backpack.solidWall.itemInBp=!0,hi[e].dataset.empty="false";break}}if("plainWall"===s.name){t.backpack.plainWall.amount+=1;for(let s=0;s<hi.length;s++)if("true"===hi[s].dataset.empty&&!1===t.backpack.plainWall.itemInBp){hi[s].src=W,hi[s].dataset.item="plainWall",t.backpack.plainWall.itemInBp=!0,hi[s].dataset.empty="false";break}}if("magmaWall"===s.name){t.backpack.magmaWall.amount+=1;for(let s=0;s<hi.length;s++)if("true"===hi[s].dataset.empty&&!1===t.backpack.magmaWall.itemInBp){hi[s].src=Dt,hi[s].dataset.item="magmaWall",t.backpack.magmaWall.itemInBp=!0,hi[s].dataset.empty="false";break}}if("brickWall"===s.name){t.backpack.brickWall.amount+=1;for(let e=0;e<hi.length;e++)if("true"===hi[e].dataset.empty&&!1===t.backpack.brickWall.itemInBp){hi[e].src=Bt,hi[e].dataset.item=s.name,t.backpack.brickWall.itemInBp=!0,hi[e].dataset.empty="false";break}}if("woodenWall"===s.name){t.backpack.woodenWall.amount+=1;for(let e=0;e<hi.length;e++)if("true"===hi[e].dataset.empty&&!1===t.backpack.woodenWall.itemInBp){hi[e].src=Bt,hi[e].dataset.item=s.name,t.backpack.woodenWall.itemInBp=!0,hi[e].dataset.empty="false";break}}}if("hpPotion"===s.name){t.backpack.hpPotion.amount+=1;for(let s=0;s<hi.length;s++)if("true"===hi[s].dataset.empty&&!1===t.backpack.hpPotion.itemInBp){hi[s].src=zs,hi[s].dataset.item="hpPotion",t.backpack.hpPotion.itemInBp=!0,hi[s].dataset.empty="false";break}}if("jumpFluid"===s.name){t.backpack.jumpFluid.amount+=1;for(let s=0;s<hi.length;s++)if("true"===hi[s].dataset.empty&&!1===t.backpack.jumpFluid.itemInBp){hi[s].src=ys,hi[s].dataset.item="jumpFluid",t.backpack.jumpFluid.itemInBp=!0,hi[s].dataset.empty="false";break}}if("meat"===s.name){t.backpack.meat.amount+=1;for(let s=0;s<hi.length;s++)if("true"===hi[s].dataset.empty&&!1===t.backpack.meat.itemInBp){hi[s].src=Cs,hi[s].dataset.item="meat",t.backpack.meat.itemInBp=!0,hi[s].dataset.empty="false";break}}if("helperRuna"===s.name){t.backpack.helperRuna.amount+=1;for(let s=0;s<hi.length;s++)if("true"===hi[s].dataset.empty&&!1===t.backpack.helperRuna.itemInBp){hi[s].src=ks,hi[s].dataset.item="helperRuna",t.backpack.helperRuna.itemInBp=!0,hi[s].dataset.empty="false",console.log(t.backpack.helperRuna.amount,"amount");break}}ht(hi,t),i.splice(e,1)}if(s.posX+s.size<t.posX||s.posX>t.posX+t.size||s.posY>t.posY+t.size||s.posY+s.size<t.posY);else if(hi.forEach(((t,e,i)=>{console.log(t),t.dataset.item!==s.name&&"true"!==t.dataset.empty||(ni=!0)})),!0===ni){if("Wall"===s.name.slice(-4))return s.layOnMap=!1,void(ni=!1);if("goldenCoin"===s.name&&(s.posY-=10,setTimeout((()=>{s.posY-=10,setTimeout((()=>{s.posY-=10,setTimeout((()=>{s.posY+=10,setTimeout((()=>{s.posY+=10,setTimeout((()=>{s.layOnMap=!1}),50)}),100)}),100)}),100)}),100)),"axe"===s.name)return s.layOnMap=!1,void(ni=!1);if("glock"===s.name)return s.layOnMap=!1,void(ni=!1);if("dynamite"===s.name)return s.layOnMap=!1,void(ni=!1);if("hpPotion"===s.name)return s.layOnMap=!1,void(ni=!1);if("jumpFluid"===s.name)return s.layOnMap=!1,void(ni=!1);if("meat"===s.name)return s.layOnMap=!1,void(ni=!1);if("machineGun"===s.name)return s.layOnMap=!1,void(ni=!1);if("helperRuna"===s.name)return s.layOnMap=!1,void(ni=!1)}}))})(to,ro),((t,s,e)=>{t.posY+=t.strenghtGravity,s.forEach(((s,e,i)=>{s.forEach(((s,e,i)=>{if(t.posX+t.size<s.posX||t.posX>s.posX+s.size||t.posY+t.size<s.posY||t.posY>s.posY+s.size);else if("horizontal"===s.direction){if(t.posY+t.size>s.posY-1&&s.posY>t.posY&&t.posY+t.size<s.posY+s.size/2){let e=t.posY+t.size-s.posY;t.posY-=e,t.down=!1,s.color="white",t.up=!0,t.counterJump=0}if(t.posX<s.posX+s.size&&t.posX>s.posX+s.size/2&&"left"===t.directionMove&&t.posY+t.size>s.posY){let e=s.posX+s.size-t.posX;t.up=!1,t.posX+=e+3,console.log("move left player")}if(t.posX+t.size>s.posX&&t.posX+t.size<s.posX+s.size/2&&"right"===t.directionMove&&t.posY+t.size>s.posY){let e=t.posX+t.size-s.posX;t.posX-=e+3,t.up=!1,console.log("move right player")}t.posY<s.posY+s.size+3&&t.posY>s.posY+s.size/2&&(t.posY=s.posY+s.size+1,s.color="black",t.stop=!0,t.up=!1,s.color="red")}}))})),(t.posX<0||0==t.posX)&&(t.posX=1,t.left=!1),t.posX+t.size>e.C_W&&(t.posX=e.C_W-t.size-1,t.right=!1);let i=!1;t.posY>e.C_H&&!1===i&&(i=!0,t.posY=0,t.hp-=21343214324,setTimeout((()=>{i=!1}),5e3))})(to,ho,eo),ho.forEach(((t,s,e)=>{t.forEach(((t,s,e)=>{t.draw(eo)}))})),ho.forEach((t=>{t.forEach(((t,s,e)=>{"monster"===t.isHitBy&&t.hp<0&&e.splice(s,1)}))})),no.forEach(((t,s,e)=>{t.forEach(((t,s,e)=>{var i,o;"ghost"===t.name&&(t.draw(eo),((t,s)=>{s.forEach(((s,e,i)=>{t.posX+t.size<s.posX||t.posX>s.posX+s.size||t.posY+t.size<s.posY||t.posY>s.posY+s.size?s.speed=1:(t.color="red",t.hp-=s.attack,s.speed=0,t.percentageHp-=vt(s.attack,t)/2)}))})(to,e),((t,s,e)=>{t.forEach(((t,i,o)=>{t.forEach(((t,i,o)=>{s.forEach(((t,s,i)=>{Le(t,e,Ne)}))}))}))})(ho,e,eo),t.movement(),t.changeWay(),Bi(to,e)),"dragon"===t.name&&(t.movement(eo),t.draw(eo),(t=>{t.timerToAttack%t.frequencyAttack==0&&(t.fireBall.push(new Ls(t.posX,t.posY,t.directionMove)),t.frequencyAttack=gt([50,10,150,200,100,300,350,240,230,310,320,1,2])),t.fireBall.forEach((t=>{t.draw(eo)}))})(t),((t,s,e)=>{t.forEach(((t,i,o)=>{t.forEach(((t,i,o)=>{s.forEach(((s,i,o)=>{s.posX>t.posX+t.size||s.posX+s.size<t.posX||s.posY>t.posY+t.size||s.posY+s.size<t.posY||(t.isHitBy="monster",t.hp-=1,s.posX+s.size>t.posX&&s.posX+s.size<t.posX+t.size/2&&(s.down=!0,s.up=!0,s.right=!1,s.left=!0,s.posX-=s.speed+2,Ne(s,s.directionCross,"right")),s.posX<t.posX+t.size&&s.posX>t.posX+t.size/2&&(s.down=!0,s.up=!0,s.right=!0,s.left=!1,s.posX+=s.speed+2,Ne(s,s.directionCross,"left")),s.posY>t.posY+t.size/2&&s.posY<t.posY+t.size&&(s.down=!0,s.up=!1,s.right=!0,s.left=!0,s.posY+=s.speed+2,Ne(s,s.directionCross,"up")),s.posY+s.size>t.posY&&s.posY+s.size<t.posY+t.size/2&&(s.down=!1,s.up=!0,s.right=!0,s.left=!0,s.posY-=s.speed+2,Ne(s,s.directionCross,"down"))),Le(s,e,Ne)}))}))}))})(ho,e,eo),((t,s,e,i,o)=>{e.forEach(((s,e,i)=>{s.forEach(((s,e,i)=>{t.fireBall.forEach(((a,h,n)=>{s.posX+s.size<a.posX||s.posX>a.posX+a.size||s.posY+s.size<a.posY||s.posY>a.posY+a.size||(s.isHitBy="dragonBall",s.hp-=t.attack.wall,n.splice(h,1),s.hp<0&&"dragonBall"===s.isHitBy&&("goldWall"===s.name&&o.push(new fs(s.posX,s.posY,s.size)),"solidWall"===s.name&&o.push(new Ts(s.posX,s.posY,s.size)),"plainWall"===s.name&&o.push(new As(s.posX,s.posY,s.size)),"magmaWall"===s.name&&o.push(new Ms(s.posX,s.posY,s.size)),i.splice(e,1)))}))}))})),t.fireBall.forEach(((e,i,o)=>{s.posX+s.size<e.posX||s.posX>e.posX+e.size||s.posY+s.size<e.posY||s.posY>e.posY+e.size||(s.hp-=t.attack.player,o.splice(i,1),s.percentageHp-=vt(t.attack.player,s))})),t.fireBall.forEach(((s,e,i)=>{ao.forEach(((o,a,h)=>{o.posX+o.size<s.posX||o.posX>s.posX+s.size||o.posY+o.size<s.posY||o.posY>s.posY+s.size||(o.hp-=t.attack.player,i.splice(e,1),o.percentageHp-=vt(t.attack.player,o))}))})),t.fireBall.forEach(((t,s,e)=>{(t.posX>i.C_W||t.posX+t.size<0||t.posY+t.size<0||t.posY>i.C_H)&&e.splice(s,1)}))})(t,to,ho,eo,ro),((t,s)=>{s.forEach(((s,e,i)=>{t.posX+t.size<s.posX||t.posX>s.posX+s.size||t.posY+t.size<s.posY||t.posY>s.posY+s.size||"up"!==s.directionMove&&(s.directionMove=gt(s.directionArr),s.posY-=100,t.hp-=s.attack.whenTouchPlayer,t.percentageHp-=vt(s.attack.whenTouchPlayer,t))}))})(to,e),Bi(to,e),((t,s)=>{s.forEach(((s,e,i)=>{t.forEach(((t,e,i)=>{t.posX+t.size<s.posX||t.posX>s.posX+s.size||t.posY+t.size<s.posY||t.posY>s.posY+s.size||"up"!==s.directionMove&&(s.posY-=100,s.directionMove=gt(s.directionArr),t.hp-=s.attack.whenTouchPlayer,t.percentageHp-=vt(s.attack.whenTouchPlayer,t))}))}))})(ao,e)),"zombie"===t.name&&(t.movement(),t.draw(eo),i=ho,(o=e).forEach(((t,s,e)=>{t.posY+=t.strenghtGravity,t.speed=3,t.doFall=!0,t.detect.trigger=!0})),i.forEach(((t,s,e)=>{t.forEach(((t,s,e)=>{o.forEach(((s,e,i)=>{if(s.detectBlokJump.canMonsterJump(t),t.posX>s.posX+s.size||t.posX+t.size<s.posX||t.posY>s.posY+s.size||t.posY+t.size<s.posY);else if("horizontal"===t.direction){if(s.posY+s.size>t.posY-1&&t.posY>s.posY+s.size/2){let e=s.posY+s.size-t.posY;s.posY-=e,s.doFall=!1,s.speed=s.naturalSpeed,s.stopJump=!1}if(!0===s.jump&&s.jumpAction(),le(s,t),s.posX<t.posX+t.size&&s.posX>t.posX+t.size/2&&s.posY+s.size>t.posY){let e=t.posX+t.size-s.posX;s.posX+=e,ze(s,"right",t)}if(s.posX+s.size>t.posX&&s.posX+s.size<t.posX+t.size/2&&s.posY+s.size>t.posY){let e=s.posX+s.size-t.posX;s.posX-=e,ze(s,"left",t)}}be(s,t),fe(s,i,e)}))}))})),((t,s)=>{s.forEach(((s,e,i)=>{let o=s.posX-t.posX,a=Math.sqrt((s.posY-t.posY)*(s.posY-t.posY)),h=o*o+a*a;pi(s,o,a),h=Math.floor(Math.sqrt(h)),h<70&&"right"===s.directionMove?(s.speed=0,t.hp-=s.strenghtAttack,t.percentageHp-=vt(s.strenghtAttack,t),s.isDuringAttackPlayer=!0):h<40&&"left"===s.directionMove?(s.speed=0,t.hp-=s.strenghtAttack,t.percentageHp-=vt(s.strenghtAttack,t),s.isDuringAttackPlayer=!0,s.inRangeOfPlayer=!0):h>71&&(s.isDuringAttackPlayer=!1)}))})(to,e),Bi(to,e),((t,s)=>{t.forEach(((t,e,i)=>{s.forEach(((s,e,i)=>{let o=s.posX-t.posX,a=s.posY-t.posY,h=o*o+a*a;pi(s,o),h=Math.floor(Math.sqrt(h)),h<70&&"right"===s.directionMove||h<40&&"left"===s.directionMove?(s.speed=0,t.hp-=s.strenghtAttack,t.percentageHp-=vt(s.strenghtAttack,t),s.isDuringAttackPlayer=!0):(h>71&&h<73&&"right"===s.directionMove||h>41&&h<73&&"left"===s.directionMove)&&(s.isDuringAttackPlayer=!1)}))}))})(ao,e)),"soldier"===t.name&&(t.movement(),t.draw(eo),t.shootFromGun(eo),((t,s,e)=>{s.forEach(((t,s,e)=>{t.speed=.5,t.posY+=t.strenghtGravity,t.doFall=!0,t.touchWall=!1,t.stopJump=!1,t.detect.trigger=!0})),t.forEach(((t,e,i)=>{t.forEach(((t,e,i)=>{s.forEach(((s,e,i)=>{if(s.detectBlokJump.canMonsterJump(t),t.posX>s.posX+s.size||t.posX+t.size<s.posX||t.posY>s.posY+s.size||t.posY+t.size<s.posY);else{if("horizontal"===t.direction){if(s.posY+s.size>t.posY-1&&t.posY>s.posY+s.size/2){let e=s.posY+s.size-t.posY;s.speed=s.naturalSpeed,s.posY-=e,s.doFall=!1,s.stopJump=!1}!0===s.jump&&s.jumpAction(),le(s,t)}if(s.posX<t.posX+t.size&&s.posX>t.posX+t.size/2&&s.posY+s.size>t.posY){let e=t.posX+t.size-s.posX;s.posX+=e,ze(s,"right",t)}if(s.posX+s.size>t.posX&&s.posX+s.size<t.posX+t.size/2&&s.posY+s.size>t.posY){let e=s.posX+s.size-t.posX;s.posX-=e,ze(s,"left",t)}}be(s,t),fe(s,i,e)}))}))})),we(s)})(ho,e),((t,s)=>{s.forEach(((s,e,i)=>{s.frequencyFireFromGun++,s.frequencyFireFromGun%s.frequencyNumber==0&&!1===s.isDuringAttackPlayer&&(s.heIsShooting=!0,s.frequencyNumber=gt([400,450,350,370,380,390,420]),s.speed=0,s.arrayWithBullet.push(new li(s.posX,s.posY+s.size/2,s.directionMove)),setTimeout((()=>{s.heIsShooting=!1}),500));let o=s.posX-t.posX,a=s.posY-t.posY;pi(s,o);let h=o*o+a*a;h=Math.floor(Math.sqrt(h)),h<40&&"right"===s.directionMove||h<40&&"left"===s.directionMove?(s.speed=0,t.hp-=s.strenghtAttack,t.percentageHp-=vt(s.strenghtAttack,t),s.isDuringAttackPlayer=!0):h>150&&(s.isDuringAttackPlayer=!1)}))})(to,e),Bi(to,e),((t,s)=>{t.forEach(((t,e,i)=>{Ti++,s.forEach(((s,e,i)=>{Ti%500==0&&!1===s.isDuringAttackPlayer&&(s.heIsShooting=!0,s.sizeX=60,s.speed=0,s.arrayWithBullet.push(new li(s.posX,s.posY+s.size/2,s.directionMove)),setTimeout((()=>{s.heIsShooting=!1}),500));let o=s.posX-t.posX,a=s.posY-t.posY;pi(s,o);let h=o*o+a*a;h=Math.floor(Math.sqrt(h)),h<40?(s.speed=0,s.isDuringAttackPlayer=!0,t.hp-=s.strenghtAttack,t.percentageHp-=vt(s.strenghtAttack,t)):(h>71&&h<73&&"right"===s.directionMove||h>41&&h<73&&"left"===s.directionMove)&&(s.isDuringAttackPlayer=!1)}))}))})(ao,e),((t,s,e,i,o)=>{e.forEach(((s,e,i)=>{s.forEach(((s,e,i)=>{t.arrayWithBullet.forEach(((a,h,n)=>{s.posX+s.size<a.posX||s.posX>a.posX+a.size||s.posY+s.size<a.posY||s.posY>a.posY+a.size||(s.isHitBy="bulletFromSoldier",s.hp-=t.strenghtAttack,n.splice(h,1),s.hp<0&&"bulletFromSoldier"===s.isHitBy&&("goldWall"===s.name&&o.push(new fs(s.posX,s.posY,s.size)),"solidWall"===s.name&&o.push(new Ts(s.posX,s.posY,s.size)),"plainWall"===s.name&&o.push(new As(s.posX,s.posY,s.size)),"magmaWall"===s.name&&o.push(new Ms(s.posX,s.posY,s.size)),i.splice(e,1)))}))}))})),t.arrayWithBullet.forEach(((e,i,o)=>{s.posX+s.size<e.posX||s.posX>e.posX+e.size||s.posY+s.size<e.posY||s.posY>e.posY+e.size||(s.hp-=t.strenghtAttackFromGun,o.splice(i,1),s.percentageHp-=vt(t.strenghtAttackFromGun,s))})),t.arrayWithBullet.forEach(((s,e,i)=>{ao.forEach(((o,a,h)=>{o.posX+o.size<s.posX||o.posX>s.posX+s.size||o.posY+o.size<s.posY||o.posY>s.posY+s.size||(o.hp-=t.strenghtAttackFromGun,i.splice(e,1),o.percentageHp-=vt(t.strenghtAttackFromGun,o))}))}))})(t,to,ho,0,ro)),"sheep"===t.name&&(t.movement(),t.draw(eo),((t,s,e)=>{s.forEach(((t,s,e)=>{t.speed=.5,t.posY+=t.strenghtGravity,t.doFall=!0,t.detect.trigger=!0})),t.forEach(((t,e,i)=>{t.forEach(((t,e,i)=>{s.forEach(((s,e,i)=>{if(s.detectBlokJump.canMonsterJump(t),t.posX>s.posX+s.size||t.posX+t.size<s.posX||t.posY>s.posY+s.size||t.posY+t.size<s.posY);else{if("horizontal"===t.direction){if(s.posY+s.size>t.posY-1&&t.posY>s.posY+s.size/2){let e=s.posY+s.size-t.posY;s.posY-=e,s.doFall=!1,s.speed=s.naturalSpeed,s.stopJump=!1}if(!0===s.jump&&s.jumpAction(),le(s,t),s.posX<t.posX+t.size&&s.posX>t.posX+t.size/2&&s.posY+s.size>t.posY){let e=t.posX+t.size-s.posX;s.posX+=e,ze(s,"right",t)}if(s.posX+s.size>t.posX&&s.posX+s.size<t.posX+t.size/2&&s.posY+s.size>t.posY){let e=s.posX+s.size-t.posX;s.posX-=e,ze(s,"left",t)}}if("vertical"===t.direction){if(s.posY+s.size>t.posY-1&&t.posY>s.posY+s.size/2){let e=s.posY+s.size-t.posY;s.posY-=e,s.doFall=!1}if(s.posX<t.posX+t.size&&s.posX>t.posX+t.size/2&&"left"===s.directionMove&&s.posY+s.size>t.posY){let e=t.posX+t.size-s.posX;s.posX+=e,s.directionMove="right"}if(s.posX+s.size>t.posX&&s.posX+s.size<t.posX+t.size/2&&"right"===s.directionMove&&s.posY+s.size>t.posY){let e=s.posX+s.size-t.posX;s.posX-=e,s.directionMove="left"}}}be(s,t),fe(s,i,e)}))}))})),we(s)})(ho,e),Bi(to,e))}))})),ao.forEach(((t,s,e)=>{var i,o;((t,s,e)=>{t.posY+=t.strenghtGravity,t.strenghtGravity=3,t.touchWall=!1,t.detect.trigger=!0,s.forEach(((s,e,i)=>{s.forEach(((s,e,i)=>{if(t.detectBlokJump.canMonsterJump(s),t.posX+t.size<s.posX||t.posX>s.posX+s.size||t.posY+t.size<s.posY||t.posY>s.posY+s.size);else if("horizontal"===s.direction){if(t.posY+t.size>s.posY-1&&s.posY>t.posY&&t.posY+t.size<s.posY+s.size/2){t.strenghtGravity=2;let e=t.posY+t.size-s.posY;t.posY-=e,t.stopJump=!1}if(!0===t.jump&&t.jumpAction(),le(t,s),t.posX<s.posX+s.size&&t.posX>s.posX+s.size/2&&"left"===t.directionMove&&t.posY+t.size>s.posY){let e=s.posX+s.size-t.posX;console.log("hit left"),t.posX+=e+3,ze(t,"right",s)}if(t.posX+t.size>s.posX&&t.posX+t.size<s.posX+s.size/2&&"right"===t.directionMove&&t.posY+t.size>s.posY){let e=t.posX+t.size-s.posX;t.posX-=e+3,console.log("hit right"),ze(t,"left",s)}}be(t,s)}))})),(t.posX<0||0==t.posX)&&(t.posX=1,t.left=!1,t.directionMove="right"),t.posX+t.size>e.C_W&&(t.posX=e.C_W-t.size-1,t.right=!1,t.directionMove="left"),t.posY>e.C_H&&(t.hp=-20)})(t,ho,eo),"helperPlayer"===t.name&&(t.movement(),t.draw(eo),t.magicUse(),i=ho,(o=t.arrayWithMagic).length>0&&i.forEach(((t,s,e)=>{t.forEach(((t,s,e)=>{o.forEach(((s,e,i)=>{s.posX+s.size<t.posX||s.posX>t.posX+t.size||s.posY+s.size<t.posY||s.posY>t.posY+t.size||"attack"===s.id&&i.splice(e,1)}))}))})),((t,s)=>{t.forEach(((t,e,i)=>{t.forEach(((t,e,i)=>{s.forEach(((s,o,a)=>{s.arrayWithMagic.forEach(((s,o,a)=>{s.posX+s.size<t.posX||s.posX>t.posX+t.size||s.posY+s.size<t.posY||s.posY>t.posY+t.size||"attack"===s.id&&(a.splice(o,1),t.hp-=s.strenghtAttack,t.percentageHp-=vt(s.strenghtAttack,t),t.hp<0&&i.splice(e,1))}))}))}))}))})(no,ao),(t=>{t.forEach((t=>{t.arrayWithMagic.length>0&&t.arrayWithMagic.forEach(((t,s,e)=>{"treat"===t.id&&(to.posX+to.size<t.posX||to.posX>t.posX+t.size||to.posY+to.size<t.posY||to.posY>t.posY+t.size||(to.hp<to.hpTotal&&(to.hp+=40,to.percentageHp+=vt(40,to),to.hp>to.hpTotal&&(to.hp=to.hpTotal),to.percentageHp>to.ratePercentage&&(to.percentageHp=to.ratePercentage)),to.treatment=!0,e.splice(s,1),setTimeout((()=>{to.treatment=!1}),3e3)))}))}))})(ao),t.hp<0&&e.splice(s,1))})),((t,s,e)=>{t.bulletGlockArray.length>0&&t.bulletGlockArray.forEach(((t,e,i)=>{t.draw(s)})),t.dynamitsArray.length>0&&t.dynamitsArray.forEach(((t,e,i)=>{t.draw(s)})),t.axeArray.length>0&&(t.axeArray[0].draw(s,_s),t.axeArray[0].lifeCycleAttack>50&&t.axeArray.splice(0,1))})(to,eo),((t,s,e)=>{let i=t.axeArray;s.forEach(((t,s,e)=>{t.forEach(((t,s,e)=>{if("axe"===t.isHitBy&&t.hp<0||0===t.hp&&"axe"===t.isHitBy){if(t.size=100,"plainWall"===t.name&&ro.push(new As(t.posX,t.posY,t.size)),"solidWall"===t.name&&ro.push(new Ts(t.posX,t.posY,t.size)),"magmaWall"===t.name&&ro.push(new Ms(t.posX,t.posY,t.size)),"goldWall"===t.name&&ro.push(new fs(t.posX,t.posY,t.size)),"brickWall"===t.name&&ro.push(new cs(t.posX,t.posY,t.size)),"woodenWall"===t.name){let s=[ds,At,$e,Is,Xs];ro.push(new(s[Math.floor(Math.random()*s.length)])(t.posX,t.posY,t.size))}e.splice(s,1)}i.forEach(((s,e,i)=>{s.posX+s.size<t.posX||s.posX>t.posX+t.size||s.posY>t.posY+t.size||s.posY+s.size<t.posY||(t.hp-=s.strenghtAttack.wall,t.color="pink",t.isHitBy="axe")}))}))}))})(to,ho),Ze(to,ho),((t,s)=>{t.forEach(((t,e,i)=>{t.forEach(((t,e,i)=>{s.dynamitsArray.forEach(((s,o,a)=>{if(s.posX+s.size<t.posX||s.posX>t.posX+t.size||s.posY>t.posY+t.size||s.posY+s.size<t.posY);else if(s.timeToExplode<0&&(t.hp-=s.strenghtAttack,t.percentageHp-=vt(s.strenghtAttack,t)),t.hp<0&&!1===oi)return oi=!0,ii(t,ro),i.splice(e,1),ge(),void setTimeout((()=>{oi=!1}),200)}))}))}))})(no,to),((t,s)=>{s.axeArray.forEach(((s,e,i)=>{t.forEach(((t,e,i)=>{t.forEach(((t,e,i)=>{if(s.posX+s.size<t.posX||s.posX>t.posX+t.size||s.posY+s.size<t.posY||s.posY>t.posY+t.size);else if(t.hp-=s.strenghtAttack.monster,t.percentageHp-=vt(s.strenghtAttack.monster,t),t.hp<0&&!1===di)return di=!0,ii(t,ro),i.splice(e,1),ge(),void setTimeout((()=>{di=!1}),200)}))}))}))})(no,to),((t,s,e)=>{let i=t.bulletGlockArray;s.forEach(((t,s,o)=>{t.forEach(((t,s,o)=>{if("glock"===t.isHitBy&&t.hp<0||0===t.hp&&"glock"===t.isHitBy){if("plainWall"===t.name&&1===Math.floor(2*Math.random())&&ro.push(new As(t.posX,t.posY,t.size)),"solidWall"===t.name&&1===Math.floor(2*Math.random())&&ro.push(new Ts(t.posX,t.posY,t.size)),"magmaWall"===t.name&&1===Math.floor(2*Math.random())&&ro.push(new Ms(t.posX,t.posY,t.size)),"goldWall"===t.name&&1===Math.floor(2*Math.random())&&ro.push(new fs(t.posX,t.posY,t.size)),"brickWall"===t.name&&1===Math.floor(2*Math.random())&&ro.push(new cs(t.posX,t.posY,t.size)),"woodenWall"===t.name){let s=[ds,$e,At,Is];ro.push(new(s[Math.floor(Math.random()*s.length)])(t.posX,t.posY,t.size,"true"))}o.splice(s,1)}i.forEach(((s,i,o)=>{s.posX+s.size<t.posX||s.posX>t.posX+t.size||s.posY>t.posY+t.size||s.posY+s.size<t.posY||(t.hp-=2.5,t.isHitBy="glock",o.splice(o[i],1)),(s.posX<0||s.posX>e.C_W||s.posY>e.C_H||s.posY<0)&&o.splice(o[i],1)}))}))}))})(to,ho,eo),Ze(to,ho),ro.length>0&&(ro.forEach(((t,s,e)=>{!0===t.isDrop&&(t.posY+=t.strenghtGravity,ho.forEach(((s,e,i)=>{s.forEach(((s,e,i)=>{if(t.posX+t.size<s.posX||t.posX>s.posX+s.size||t.posY+t.size<s.posY||t.posY>s.posY+s.size);else{if(t.posY+t.size>s.posY-2&&t.posY+t.size-5<s.posY&&(t.posX<s.posX+s.size||t.posX>s.posX)){let e=t.posY+t.size-s.posY;t.posY-=e,t.speedX=0}if(t.posX<s.posX+s.size&&t.posX>s.posX+s.size/2&&t.posY+t.size>s.posY){let e=s.posX+s.size-t.posX;t.posX+=e+3,t.speedX=0}if(t.posX+t.size>s.posX&&t.posX+t.size<s.posX+s.size/2&&t.posY+t.size>s.posY){let e=t.posX+t.size-s.posX;t.posX-=e+3,t.speedX=0}t.posY<s.posY+s.size&&t.posY>s.posY+s.size/2&&(t.posX,s.posX)}}))})))})),ro.forEach(((t,s,e)=>{t.draw(eo)}))),Ps.draw(eo),to.draw(eo),((t,s)=>{let e="You passed level";Ki.level>5&&(e="Congratulation you clean map , you get extra hp!"),t.length>0&&t.forEach((t=>{t.draw(s);let i=s.ctx.createLinearGradient(0,30,1050,200);i.addColorStop(0,"red"),i.addColorStop(1,"magenta"),i.addColorStop(.5,"green"),i.addColorStop(.3,"yellow"),s.ctx.fillStyle=i,s.ctx.font="100px Impact",s.ctx.fillText(e,s.C_H/2,300),s.ctx.fillStyle="black",s.ctx.strokeText(e,s.C_H/2,300)}))})(io,eo)),"game-over"===Ki.playGame&&(window.location="/gameover.html"),requestAnimationFrame(co)};co()})()})();